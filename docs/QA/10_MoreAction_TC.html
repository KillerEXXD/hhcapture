<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>10 Extended Action Test Cases</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 20px;
            background: #f5f5f5;
            font-size: 14px;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        h1 {
            color: #333;
            margin-bottom: 10px;
        }
        .subtitle {
            color: #666;
            margin-bottom: 30px;
        }
        .test-case {
            background: white;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 30px;
            page-break-inside: avoid;
        }
        .test-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #007bff;
            cursor: pointer;
            user-select: none;
        }
        .test-header:hover {
            background: #f8f9fa;
            margin: -10px -20px 20px -20px;
            padding: 10px 20px 20px 20px;
            border-radius: 8px 8px 0 0;
        }
        .test-content {
            display: none;
        }
        .test-content.expanded {
            display: block;
        }
        .collapse-icon {
            font-size: 20px;
            transition: transform 0.3s ease;
            margin-left: 10px;
            color: #007bff;
        }
        .collapse-icon.expanded {
            transform: rotate(180deg);
        }
        .test-id {
            font-size: 18px;
            font-weight: bold;
            color: #007bff;
        }
        .test-name {
            font-size: 16px;
            font-weight: 600;
            color: #333;
        }
        .badges {
            display: flex;
            gap: 10px;
        }
        .badge {
            padding: 4px 10px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 600;
        }
        .badge.simple { background: #d4edda; color: #155724; }
        .badge.medium { background: #fff3cd; color: #856404; }
        .badge.complex { background: #f8d7da; color: #721c24; }
        .badge.low { background: #d4edda; color: #155724; }
        .badge.high { background: #f8d7da; color: #721c24; }
        .badge.category { background: #d1ecf1; color: #0c5460; }

        .section-title {
            font-size: 15px;
            font-weight: 600;
            color: #333;
            margin: 20px 0 10px 0;
            padding-bottom: 5px;
            border-bottom: 1px solid #ddd;
        }

        .blind-setup {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
            margin-bottom: 15px;
        }
        .blind-item label {
            display: block;
            font-size: 11px;
            color: #666;
            margin-bottom: 4px;
        }
        .blind-item .value {
            font-size: 15px;
            font-weight: 600;
            color: #333;
        }

        .player-data-box {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 4px;
            padding: 12px;
            margin-bottom: 15px;
            font-family: 'Courier New', monospace;
        }
        .player-data-box pre {
            margin: 0;
            font-size: 13px;
            line-height: 1.6;
        }
        .copy-instruction {
            font-size: 11px;
            color: #666;
            margin-bottom: 8px;
        }

        .actions-section {
            margin: 15px 0;
        }
        .street-block {
            margin-bottom: 12px;
            padding: 10px;
            background: #f8f9fa;
            border-radius: 4px;
        }
        .street-name {
            font-weight: 600;
            color: #007bff;
            margin-bottom: 8px;
            font-size: 13px;
        }
        .action-row {
            padding: 4px 0;
            font-size: 13px;
        }
        .action-player {
            font-weight: 600;
            color: #333;
        }
        .action-type {
            color: #666;
            margin: 0 5px;
        }
        .action-amount {
            font-weight: 600;
            color: #28a745;
        }

        .copy-btn {
            background: #007bff;
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
            display: inline-flex;
            align-items: center;
            gap: 5px;
            margin-bottom: 8px;
        }
        .copy-btn:hover {
            background: #0056b3;
        }
        .copy-btn:active {
            background: #004085;
        }
        .copy-btn.copied {
            background: #28a745;
        }

        .paste-btn {
            background: #6c757d;
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
            display: inline-flex;
            align-items: center;
            gap: 5px;
            margin-left: 8px;
        }
        .paste-btn:hover {
            background: #5a6268;
        }

        .compare-btn {
            background: #28a745;
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
            display: inline-flex;
            align-items: center;
            gap: 5px;
            margin-left: 8px;
        }
        .compare-btn:hover {
            background: #218838;
        }

        .next-hand-preview {
            background: #f8f9fa;
            border: 2px dashed #6c757d;
            border-radius: 8px;
            padding: 15px;
            margin-top: 20px;
        }
        .next-hand-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }
        .next-hand-title {
            font-size: 15px;
            font-weight: 600;
            color: #333;
        }
        .next-hand-content {
            background: white;
            padding: 12px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            font-size: 13px;
            white-space: pre-wrap;
            margin-bottom: 15px;
        }

        .comparison-section {
            margin-top: 15px;
        }
        .comparison-header {
            font-size: 13px;
            font-weight: 600;
            color: #333;
            margin-bottom: 8px;
        }
        .comparison-textarea {
            width: 100%;
            min-height: 120px;
            padding: 10px;
            border: 1px solid #dee2e6;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            margin-bottom: 10px;
            resize: vertical;
        }
        .comparison-result {
            margin-top: 10px;
            padding: 12px;
            border-radius: 4px;
            font-size: 13px;
        }
        .comparison-result.passed {
            background: #d4edda;
            border: 1px solid #c3e6cb;
        }
        .comparison-result.failed {
            background: #f8d7da;
            border: 1px solid #f5c6cb;
        }
        .result-title {
            font-weight: bold;
            margin-bottom: 8px;
            font-size: 14px;
        }
        .check-item {
            padding: 4px 0;
            margin-left: 10px;
        }
        .check-item.pass::before {
            content: "‚úÖ ";
        }
        .check-item.fail::before {
            content: "‚ùå ";
        }
        .diff {
            margin-left: 20px;
            font-size: 12px;
            color: #721c24;
        }

        .notes {
            background: #fff3cd;
            padding: 10px;
            border-radius: 4px;
            margin-top: 15px;
            border-left: 4px solid #ffc107;
        }
        .notes-title {
            font-weight: 600;
            color: #856404;
            margin-bottom: 5px;
            font-size: 13px;
        }
        .notes-text {
            font-size: 13px;
            color: #856404;
            line-height: 1.5;
        }

        /* Results Section */
        .results-section {
            background: #e7f3ff;
            padding: 15px;
            border-radius: 4px;
            margin-top: 15px;
        }
        .pot-summary {
            font-size: 17px;
            font-weight: 700;
            color: #0056b3;
            margin-bottom: 15px;
        }
        .pot-item {
            background: white;
            padding: 10px;
            border-radius: 4px;
            border-left: 4px solid #007bff;
            margin-bottom: 10px;
        }
        .pot-item.main { border-left-color: #ffc107; }
        .pot-item.side { border-left-color: #17a2b8; }
        .pot-name {
            font-weight: 600;
            color: #333;
            margin-bottom: 5px;
            font-size: 13px;
        }
        .pot-amount {
            font-size: 15px;
            font-weight: 700;
            color: #28a745;
        }
        .eligible {
            font-size: 11px;
            color: #666;
            margin-top: 5px;
        }
        .eligible span {
            display: inline-block;
            padding: 2px 6px;
            background: #d1ecf1;
            border-radius: 3px;
            margin-right: 5px;
            margin-bottom: 3px;
        }
        .excluded span {
            background: #f8d7da;
            color: #721c24;
            text-decoration: line-through;
        }

        .ante-info-box {
            background: #fff3cd;
            padding: 10px;
            border-radius: 4px;
            margin-bottom: 12px;
            border-left: 4px solid #ffc107;
            font-size: 13px;
        }

        /* Tables */
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 10px 0;
            font-size: 13px;
        }
        th {
            background: #f8f9fa;
            padding: 8px;
            text-align: left;
            font-size: 11px;
            font-weight: 600;
            color: #666;
            border-bottom: 2px solid #dee2e6;
        }
        td {
            padding: 8px;
            border-bottom: 1px solid #dee2e6;
        }

        /* Winner Badge & Breakdown */
        .winner-badge {
            cursor: pointer;
            padding: 4px 8px;
            background: linear-gradient(135deg, #ffd700 0%, #ffed4e 100%);
            border-radius: 4px;
            font-weight: bold;
            color: #856404;
            display: inline-flex;
            align-items: center;
            gap: 4px;
            transition: all 0.3s ease;
        }
        .winner-badge:hover {
            background: linear-gradient(135deg, #ffed4e 0%, #ffd700 100%);
            transform: scale(1.05);
        }
        .winner-badge.loser {
            background: #e9ecef;
            color: #6c757d;
            cursor: default;
        }
        .expand-icon {
            font-size: 10px;
            transition: transform 0.3s ease;
        }
        .expand-icon.expanded {
            transform: rotate(180deg);
        }
        .breakdown-details {
            margin-top: 8px;
            padding: 10px;
            background: #fffbf0;
            border-left: 3px solid #ffd700;
            font-size: 12px;
            border-radius: 4px;
            animation: slideDown 0.3s ease;
        }
        @keyframes slideDown {
            from {
                opacity: 0;
                max-height: 0;
            }
            to {
                opacity: 1;
                max-height: 200px;
            }
        }
        .breakdown-line {
            padding: 3px 0;
            color: #666;
        }
        .breakdown-line.total {
            font-weight: bold;
            color: #28a745;
            padding-top: 6px;
            border-top: 1px solid #dee2e6;
            margin-top: 3px;
        }
    </style>
    <!-- Include same CSS as 40_TestCases_v2.html -->
</head>
<body>
    <div class="container">
        <h1>10 Extended Action Test Cases</h1>
        <div class="subtitle">Test cases with raise/re-raise sequences (Extended Actions)</div>

        <!-- TEST CASE 41 -->
        <div class="test-case">
            <div class="test-header" onclick="toggleTestCase(this)">
                <div>
                    <div class="test-id">TC-41</div>
                    <div class="test-name">3P Simple - With Betting (SB:250 BB:500)</div>
                </div>
                <div class="badges">
                    <span class="badge simple">Simple</span>
                    <span class="collapse-icon collapsed">‚ñ∂</span>
                </div>
            </div>

            <div class="test-content collapsed">
            <div style="background: #ffebee; border: 2px solid #f44336; padding: 10px; margin: 10px 0; border-radius: 4px;">
<strong style="color: #c62828;">‚ùå VALIDATION ERRORS:</strong><ul>
<li style="color: #c62828;">Base/More validation failed: Preflop: Base has 4 actions, but 3 active players</li>
</ul></div>


            <div class="section-title">Stack Setup</div>
            <div class="blind-setup">
                <div class="blind-item"><label>Small Blind</label><div class="value">250</div></div>
                <div class="blind-item"><label>Big Blind</label><div class="value">500</div></div>
                <div class="blind-item"><label>Ante</label><div class="value">500</div></div>
                <div class="blind-item"><label>Ante Order</label><div class="value">BB First</div></div>
            </div>

            <div class="copy-instruction">üìã Copy and paste this into the app:</div>
            <button class="copy-btn" onclick="copyPlayerData(this, `Hand (41)\nstarted_at: 00:02:30 ended_at: 00:05:40\nSB 250 BB 500 Ante 500\nStack Setup:\nAlice Dealer 27000\nBob SB 22500\nCharlie BB 29500`)">
                <span>üìã</span> Copy Player Data
            </button>
            <div class="player-data-box">
<pre>Hand (41)
started_at: 00:02:30 ended_at: 00:05:40
SB 250 BB 500 Ante 500
Stack Setup:
Alice Dealer 27000
Bob SB 22500
Charlie BB 29500</pre>
            </div>

            <div class="section-title">Actions</div>
            <div class="actions-section">
                <div class="street-block">
                    <div class="street-name">Preflop Base</div>
                    <div class="action-row"><span class="action-player">Alice (Dealer):</span> <span class="action-type">Raise</span> <span class="action-amount">2,500</span></div>
                    <div class="action-row"><span class="action-player">Bob (SB):</span> <span class="action-type">Raise</span> <span class="action-amount">5,000</span></div>
                    <div class="action-row"><span class="action-player">Charlie (BB):</span> <span class="action-type">Call</span> <span class="action-amount">5,000</span></div>
                    <div class="action-row"><span class="action-player">Alice (Dealer):</span> <span class="action-type">Call</span> <span class="action-amount">5,000</span></div>
                </div>
            </div>


            <div class="section-title">Expected Results</div>
            <div class="results-section">
                <div class="pot-summary">Total Pot: 15,500</div>
                <div style="background: #d4edda; border: 1px solid #c3e6cb; padding: 10px; border-radius: 4px; margin-bottom: 12px;">
                    <strong style="color: #155724;">‚úÖ VALIDATION PASSED</strong> - All pot calculations and stack distributions are correct.
                </div>
                <div class="ante-info-box">
                    <strong>BB Ante: 500</strong>
                    <div style="margin-top: 5px;">
                        Charlie posts ante (500) first ‚Üí stack becomes 29,000<br>
                        Charlie posts blind (500) ‚Üí stack becomes 28,500
                    </div>
                </div>
                <div class="pot-item main">
                    <div class="pot-name">Main Pot</div>
                    <div class="pot-amount">15,500 (100.0%)</div>
                    <div class="eligible">Eligible: <span>Alice</span> <span>Bob</span> <span>Charlie</span></div>
                    <div style="font-size: 11px; color: #666; margin-top: 5px;">
                        Calculation: 15,000 (live) + 500 (BB ante dead) = 15,500
                    </div>
                </div>
                <table>
                    <thead>
                        <tr>
                            <th>Player (Position)</th>
                            <th>Starting Stack</th>
                            <th>Final Stack</th>
                            <th>Contributed</th>
                            <th>Winner</th>
                            <th>New Stack</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Alice (Dealer)</td>
                            <td>27,000</td>
                            <td>22,000</td>
                            <td>5,000</td>
                            <td><span class="winner-badge loser">-</span></td>
                            <td>22,000</td>
                        </tr>
                        <tr>
                            <td>Bob (SB)</td>
                            <td>22,500</td>
                            <td>17,500</td>
                            <td>5,000</td>
                            <td><span class="winner-badge loser">-</span></td>
                            <td>17,500</td>
                        </tr>
                        <tr>
                            <td>Charlie (BB)</td>
                            <td>29,500</td>
                            <td>24,000</td>
                            <td>5,500</td>
                            <td><span class="winner-badge" onclick="toggleBreakdown(this)">
                                    üèÜ Main Pot <span class="expand-icon">‚ñº</span>
                                </span>
                                <div class="breakdown-details" style="display:none;">
                                                                        <div class="breakdown-line">Final Stack: 24,000</div>
                                    <div class="breakdown-line">+ Main Pot: 15,500</div>
                                    <div class="breakdown-line total">= New Stack: 39,500</div>
                                </div></td>
                            <td>39,500</td>
                        </tr>
                    </tbody>
                </table>
            </div>


            <div class="next-hand-preview">
                <div class="next-hand-header">
                    <div class="next-hand-title">üìã Next Hand Preview</div>
                    <button class="copy-btn" onclick="copyPlayerData(this, `Hand (42)\nstarted_at: 00:05:40 ended_at: HH:MM:SS\nSB 250 BB 500 Ante 500\nStack Setup:\nBob Dealer 17500\nCharlie SB 39500\nAlice BB 22000`)">
                        <span>üìã</span> Copy Next Hand
                    </button>
                </div>
                <div class="next-hand-content">
Hand (42)
started_at: 00:05:40 ended_at: HH:MM:SS
SB 250 BB 500 Ante 500
Stack Setup:
Bob Dealer 17500
Charlie SB 39500
Alice BB 22000
                </div>

                <div class="comparison-section">
                    <div class="comparison-header">üîç Compare with Actual Output</div>
                    <textarea id="actual-output-tc-41" class="comparison-textarea" placeholder="Paste the actual next hand output from your app here..." rows="8"></textarea>
                    <div style="margin-bottom: 10px;">
                        <button class="paste-btn" onclick="pasteFromClipboard(this, 'tc-41')">
                            üìã Paste from Clipboard
                        </button>
                        <button class="compare-btn" onclick="compareNextHand('tc-41', `Hand (42)\nstarted_at: 00:05:40 ended_at: HH:MM:SS\nSB 250 BB 500 Ante 500\nStack Setup:\nBob Dealer 17500\nCharlie SB 39500\nAlice BB 22000`)">
                            üîç Compare
                        </button>
                        <button class="copy-result-btn" onclick="copyComparisonResult('tc-41')" style="background: #4caf50;">
                            üìã Copy Result
                        </button>
                    </div>
                    <div id="comparison-result-tc-41" class="comparison-result"></div>
                </div>
            </div>

            <div class="notes">
                <div class="notes-title">üìù Validation Notes</div>
                <div class="notes-text">
                    ‚Ä¢ Players: 3<br>
                    ‚Ä¢ Complexity: Simple<br>
                    ‚Ä¢ Blinds: SB 250 / BB 500 / Ante 500<br>
                    ‚Ä¢ Button rotation: Previous SB ‚Üí New Dealer<br>
                    ‚Ä¢ All players present in next hand: ‚úÖ
                </div>
            </div>
            </div>
        </div>


        <!-- TEST CASE 42 -->
        <div class="test-case">
            <div class="test-header" onclick="toggleTestCase(this)">
                <div>
                    <div class="test-id">TC-42</div>
                    <div class="test-name">3P Simple - With Betting (SB:500 BB:1,000)</div>
                </div>
                <div class="badges">
                    <span class="badge simple">Simple</span>
                    <span class="collapse-icon collapsed">‚ñ∂</span>
                </div>
            </div>

            <div class="test-content collapsed">
            <div style="background: #ffebee; border: 2px solid #f44336; padding: 10px; margin: 10px 0; border-radius: 4px;">
<strong style="color: #c62828;">‚ùå VALIDATION ERRORS:</strong><ul>
<li style="color: #c62828;">Base/More validation failed: Preflop: Base has 3 actions, but 2 active players</li>
<li style="color: #c62828;">Base/More validation failed: Flop: Base has 4 actions, but 2 active players</li>
</ul></div>


            <div class="section-title">Stack Setup</div>
            <div class="blind-setup">
                <div class="blind-item"><label>Small Blind</label><div class="value">500</div></div>
                <div class="blind-item"><label>Big Blind</label><div class="value">1,000</div></div>
                <div class="blind-item"><label>Ante</label><div class="value">1,000</div></div>
                <div class="blind-item"><label>Ante Order</label><div class="value">BB First</div></div>
            </div>

            <div class="copy-instruction">üìã Copy and paste this into the app:</div>
            <button class="copy-btn" onclick="copyPlayerData(this, `Hand (42)\nstarted_at: 00:02:30 ended_at: 00:05:40\nSB 500 BB 1000 Ante 1000\nStack Setup:\nAlice Dealer 43000\nBob SB 37000\nCharlie BB 60000`)">
                <span>üìã</span> Copy Player Data
            </button>
            <div class="player-data-box">
<pre>Hand (42)
started_at: 00:02:30 ended_at: 00:05:40
SB 500 BB 1000 Ante 1000
Stack Setup:
Alice Dealer 43000
Bob SB 37000
Charlie BB 60000</pre>
            </div>

            <div class="section-title">Actions</div>
            <div class="actions-section">
                <div class="street-block">
                    <div class="street-name">Preflop Base</div>
                    <div class="action-row"><span class="action-player">Alice (Dealer):</span> <span class="action-type">Call</span> <span class="action-amount">1,000</span></div>
                    <div class="action-row"><span class="action-player">Bob (SB):</span> <span class="action-type">Call</span> <span class="action-amount">1,000</span></div>
                    <div class="action-row"><span class="action-player">Charlie (BB):</span> <span class="action-type">Check</span></div>
                </div>
                <div class="street-block">
                    <div class="street-name">Flop Base</div>
                    <div class="action-row"><span class="action-player">Alice (Dealer):</span> <span class="action-type">Bet</span> <span class="action-amount">6,000</span></div>
                    <div class="action-row"><span class="action-player">Bob (SB):</span> <span class="action-type">Raise</span> <span class="action-amount">11,000</span></div>
                    <div class="action-row"><span class="action-player">Charlie (BB):</span> <span class="action-type">Fold</span></div>
                    <div class="action-row"><span class="action-player">Alice (Dealer):</span> <span class="action-type">Call</span> <span class="action-amount">11,000</span></div>
                </div>
            </div>


            <div class="section-title">Expected Results</div>
            <div class="results-section">
                <div class="pot-summary">Total Pot: 26,000</div>
                <div style="background: #d4edda; border: 1px solid #c3e6cb; padding: 10px; border-radius: 4px; margin-bottom: 12px;">
                    <strong style="color: #155724;">‚úÖ VALIDATION PASSED</strong> - All pot calculations and stack distributions are correct.
                </div>
                <div class="ante-info-box">
                    <strong>BB Ante: 1,000</strong>
                    <div style="margin-top: 5px;">
                        Charlie posts ante (1,000) first ‚Üí stack becomes 59,000<br>
                        Charlie posts blind (1,000) ‚Üí stack becomes 58,000
                    </div>
                </div>
                <div class="pot-item main">
                    <div class="pot-name">Main Pot</div>
                    <div class="pot-amount">4,000 (15.4%)</div>
                    <div class="eligible">Eligible: <span>Charlie</span> <span>Alice</span> <span>Bob</span></div>
                    <div style="font-size: 11px; color: #666; margin-top: 5px;">
                        Calculation: 25,000 (live) + 1,000 (BB ante dead) = 26,000
                    </div>
                </div>
                <div class="pot-item side1">
                    <div class="pot-name">Side Pot 1</div>
                    <div class="pot-amount">22,000 (84.6%)</div>
                    <div class="eligible">Eligible: <span>Alice</span> <span>Bob</span></div>
                    <div style="font-size: 11px; color: #666; margin-top: 5px;">
                        Calculation: 11,000 √ó 2 players = 22,000
                    </div>
                </div>
                <table>
                    <thead>
                        <tr>
                            <th>Player (Position)</th>
                            <th>Starting Stack</th>
                            <th>Final Stack</th>
                            <th>Contributed</th>
                            <th>Winner</th>
                            <th>New Stack</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Alice (Dealer)</td>
                            <td>43,000</td>
                            <td>31,000</td>
                            <td>12,000</td>
                            <td><span class="winner-badge" onclick="toggleBreakdown(this)">
                                    üèÜ Main Pot + Side Pot 1 <span class="expand-icon">‚ñº</span>
                                </span>
                                <div class="breakdown-details" style="display:none;">
                                                                        <div class="breakdown-line">Final Stack: 31,000</div>
                                    <div class="breakdown-line">+ Main Pot: 4,000</div>
                                    <div class="breakdown-line">+ Side Pot 1: 22,000</div>
                                    <div class="breakdown-line total">= New Stack: 57,000</div>
                                </div></td>
                            <td>57,000</td>
                        </tr>
                        <tr>
                            <td>Bob (SB)</td>
                            <td>37,000</td>
                            <td>25,000</td>
                            <td>12,000</td>
                            <td><span class="winner-badge loser">-</span></td>
                            <td>25,000</td>
                        </tr>
                        <tr>
                            <td>Charlie (BB)</td>
                            <td>60,000</td>
                            <td>58,000</td>
                            <td>2,000</td>
                            <td><span class="winner-badge loser">-</span></td>
                            <td>58,000</td>
                        </tr>
                    </tbody>
                </table>
            </div>


            <div class="next-hand-preview">
                <div class="next-hand-header">
                    <div class="next-hand-title">üìã Next Hand Preview</div>
                    <button class="copy-btn" onclick="copyPlayerData(this, `Hand (43)\nstarted_at: 00:05:40 ended_at: HH:MM:SS\nSB 500 BB 1000 Ante 1000\nStack Setup:\nBob Dealer 25000\nCharlie SB 58000\nAlice BB 57000`)">
                        <span>üìã</span> Copy Next Hand
                    </button>
                </div>
                <div class="next-hand-content">
Hand (43)
started_at: 00:05:40 ended_at: HH:MM:SS
SB 500 BB 1000 Ante 1000
Stack Setup:
Bob Dealer 25000
Charlie SB 58000
Alice BB 57000
                </div>

                <div class="comparison-section">
                    <div class="comparison-header">üîç Compare with Actual Output</div>
                    <textarea id="actual-output-tc-42" class="comparison-textarea" placeholder="Paste the actual next hand output from your app here..." rows="8"></textarea>
                    <div style="margin-bottom: 10px;">
                        <button class="paste-btn" onclick="pasteFromClipboard(this, 'tc-42')">
                            üìã Paste from Clipboard
                        </button>
                        <button class="compare-btn" onclick="compareNextHand('tc-42', `Hand (43)\nstarted_at: 00:05:40 ended_at: HH:MM:SS\nSB 500 BB 1000 Ante 1000\nStack Setup:\nBob Dealer 25000\nCharlie SB 58000\nAlice BB 57000`)">
                            üîç Compare
                        </button>
                        <button class="copy-result-btn" onclick="copyComparisonResult('tc-42')" style="background: #4caf50;">
                            üìã Copy Result
                        </button>
                    </div>
                    <div id="comparison-result-tc-42" class="comparison-result"></div>
                </div>
            </div>

            <div class="notes">
                <div class="notes-title">üìù Validation Notes</div>
                <div class="notes-text">
                    ‚Ä¢ Players: 3<br>
                    ‚Ä¢ Complexity: Simple<br>
                    ‚Ä¢ Blinds: SB 500 / BB 1,000 / Ante 1,000<br>
                    ‚Ä¢ Button rotation: Previous SB ‚Üí New Dealer<br>
                    ‚Ä¢ All players present in next hand: ‚úÖ
                </div>
            </div>
            </div>
        </div>


        <!-- TEST CASE 43 -->
        <div class="test-case">
            <div class="test-header" onclick="toggleTestCase(this)">
                <div>
                    <div class="test-id">TC-43</div>
                    <div class="test-name">3P Medium - With Betting (SB:2,500 BB:5,000)</div>
                </div>
                <div class="badges">
                    <span class="badge medium">Medium</span>
                    <span class="collapse-icon collapsed">‚ñ∂</span>
                </div>
            </div>

            <div class="test-content collapsed">
            <div style="background: #ffebee; border: 2px solid #f44336; padding: 10px; margin: 10px 0; border-radius: 4px;">
<strong style="color: #c62828;">‚ùå VALIDATION ERRORS:</strong><ul>
<li style="color: #c62828;">Base/More validation failed: Preflop: Base has 3 actions, but 1 active players</li>
<li style="color: #c62828;">Base/More validation failed: Flop: Base has 3 actions, but 1 active players</li>
<li style="color: #c62828;">Base/More validation failed: Turn: Base has 5 actions, but 1 active players</li>
</ul></div>


            <div class="section-title">Stack Setup</div>
            <div class="blind-setup">
                <div class="blind-item"><label>Small Blind</label><div class="value">2,500</div></div>
                <div class="blind-item"><label>Big Blind</label><div class="value">5,000</div></div>
                <div class="blind-item"><label>Ante</label><div class="value">5,000</div></div>
                <div class="blind-item"><label>Ante Order</label><div class="value">BB First</div></div>
            </div>

            <div class="copy-instruction">üìã Copy and paste this into the app:</div>
            <button class="copy-btn" onclick="copyPlayerData(this, `Hand (43)\nstarted_at: 00:02:30 ended_at: 00:05:40\nSB 2500 BB 5000 Ante 5000\nStack Setup:\nAlice Dealer 180000\nBob SB 110000\nCharlie BB 175000`)">
                <span>üìã</span> Copy Player Data
            </button>
            <div class="player-data-box">
<pre>Hand (43)
started_at: 00:02:30 ended_at: 00:05:40
SB 2500 BB 5000 Ante 5000
Stack Setup:
Alice Dealer 180000
Bob SB 110000
Charlie BB 175000</pre>
            </div>

            <div class="section-title">Actions</div>
            <div class="actions-section">
                <div class="street-block">
                    <div class="street-name">Preflop Base</div>
                    <div class="action-row"><span class="action-player">Alice (Dealer):</span> <span class="action-type">Call</span> <span class="action-amount">5,000</span></div>
                    <div class="action-row"><span class="action-player">Bob (SB):</span> <span class="action-type">Call</span> <span class="action-amount">5,000</span></div>
                    <div class="action-row"><span class="action-player">Charlie (BB):</span> <span class="action-type">Check</span></div>
                </div>
                <div class="street-block">
                    <div class="street-name">Flop Base</div>
                    <div class="action-row"><span class="action-player">Bob (SB):</span> <span class="action-type">Bet</span> <span class="action-amount">35,000</span></div>
                    <div class="action-row"><span class="action-player">Charlie (BB):</span> <span class="action-type">Call</span> <span class="action-amount">35,000</span></div>
                    <div class="action-row"><span class="action-player">Alice (Dealer):</span> <span class="action-type">Call</span> <span class="action-amount">35,000</span></div>
                </div>
                <div class="street-block">
                    <div class="street-name">Turn Base</div>
                    <div class="action-row"><span class="action-player">Alice (Dealer):</span> <span class="action-type">Bet</span> <span class="action-amount">35,000</span></div>
                    <div class="action-row"><span class="action-player">Bob (SB):</span> <span class="action-type">Raise</span> <span class="action-amount">65,000</span></div>
                    <div class="action-row"><span class="action-player">Charlie (BB):</span> <span class="action-type">Fold</span></div>
                    <div class="action-row"><span class="action-player">Alice (Dealer):</span> <span class="action-type">Raise</span> <span class="action-amount">90,000</span></div>
                    <div class="action-row"><span class="action-player">Bob (SB):</span> <span class="action-type">Call</span> <span class="action-amount">70,000</span></div>
                </div>
            </div>


            <div class="section-title">Expected Results</div>
            <div class="results-section">
                <div class="pot-summary">Total Pot: 285,000</div>
                <div style="background: #d4edda; border: 1px solid #c3e6cb; padding: 10px; border-radius: 4px; margin-bottom: 12px;">
                    <strong style="color: #155724;">‚úÖ VALIDATION PASSED</strong> - All pot calculations and stack distributions are correct.
                </div>
                <div class="ante-info-box">
                    <strong>BB Ante: 5,000</strong>
                    <div style="margin-top: 5px;">
                        Charlie posts ante (5,000) first ‚Üí stack becomes 170,000<br>
                        Charlie posts blind (5,000) ‚Üí stack becomes 165,000
                    </div>
                </div>
                <div class="pot-item main">
                    <div class="pot-name">Main Pot</div>
                    <div class="pot-amount">125,000 (43.9%)</div>
                    <div class="eligible">Eligible: <span>Charlie</span> <span>Bob</span> <span>Alice</span></div>
                    <div style="font-size: 11px; color: #666; margin-top: 5px;">
                        Calculation: 280,000 (live) + 5,000 (BB ante dead) = 285,000
                    </div>
                </div>
                <div class="pot-item side1">
                    <div class="pot-name">Side Pot 1</div>
                    <div class="pot-amount">140,000 (49.1%)</div>
                    <div class="eligible">Eligible: <span>Bob</span> <span>Alice</span></div>
                    <div style="font-size: 11px; color: #666; margin-top: 5px;">
                        Calculation: 70,000 √ó 2 players = 140,000
                    </div>
                </div>
                <div class="pot-item side2">
                    <div class="pot-name">Side Pot 2</div>
                    <div class="pot-amount">20,000 (7.0%)</div>
                    <div class="eligible">Eligible: <span>Alice</span></div>
                    <div style="font-size: 11px; color: #666; margin-top: 5px;">
                        Calculation: 20,000 √ó 1 players = 20,000
                    </div>
                </div>
                <table>
                    <thead>
                        <tr>
                            <th>Player (Position)</th>
                            <th>Starting Stack</th>
                            <th>Final Stack</th>
                            <th>Contributed</th>
                            <th>Winner</th>
                            <th>New Stack</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Alice (Dealer)</td>
                            <td>180,000</td>
                            <td>50,000</td>
                            <td>130,000</td>
                            <td><span class="winner-badge" onclick="toggleBreakdown(this)">
                                    üèÜ Main Pot + Side Pot 1 + Side Pot 2 <span class="expand-icon">‚ñº</span>
                                </span>
                                <div class="breakdown-details" style="display:none;">
                                                                        <div class="breakdown-line">Final Stack: 50,000</div>
                                    <div class="breakdown-line">+ Main Pot: 125,000</div>
                                    <div class="breakdown-line">+ Side Pot 1: 140,000</div>
                                    <div class="breakdown-line">+ Side Pot 2: 20,000</div>
                                    <div class="breakdown-line total">= New Stack: 335,000</div>
                                </div></td>
                            <td>335,000</td>
                        </tr>
                        <tr>
                            <td>Bob (SB)</td>
                            <td>110,000</td>
                            <td>0</td>
                            <td>110,000</td>
                            <td><span class="winner-badge loser">-</span></td>
                            <td>0</td>
                        </tr>
                        <tr>
                            <td>Charlie (BB)</td>
                            <td>175,000</td>
                            <td>130,000</td>
                            <td>45,000</td>
                            <td><span class="winner-badge loser">-</span></td>
                            <td>130,000</td>
                        </tr>
                    </tbody>
                </table>
            </div>


            <div class="next-hand-preview">
                <div class="next-hand-header">
                    <div class="next-hand-title">üìã Next Hand Preview</div>
                    <button class="copy-btn" onclick="copyPlayerData(this, `Hand (44)\nstarted_at: 00:05:40 ended_at: HH:MM:SS\nSB 2500 BB 5000 Ante 5000\nStack Setup:\nBob Dealer 0\nCharlie SB 130000\nAlice BB 335000`)">
                        <span>üìã</span> Copy Next Hand
                    </button>
                </div>
                <div class="next-hand-content">
Hand (44)
started_at: 00:05:40 ended_at: HH:MM:SS
SB 2500 BB 5000 Ante 5000
Stack Setup:
Bob Dealer 0
Charlie SB 130000
Alice BB 335000
                </div>

                <div class="comparison-section">
                    <div class="comparison-header">üîç Compare with Actual Output</div>
                    <textarea id="actual-output-tc-43" class="comparison-textarea" placeholder="Paste the actual next hand output from your app here..." rows="8"></textarea>
                    <div style="margin-bottom: 10px;">
                        <button class="paste-btn" onclick="pasteFromClipboard(this, 'tc-43')">
                            üìã Paste from Clipboard
                        </button>
                        <button class="compare-btn" onclick="compareNextHand('tc-43', `Hand (44)\nstarted_at: 00:05:40 ended_at: HH:MM:SS\nSB 2500 BB 5000 Ante 5000\nStack Setup:\nBob Dealer 0\nCharlie SB 130000\nAlice BB 335000`)">
                            üîç Compare
                        </button>
                        <button class="copy-result-btn" onclick="copyComparisonResult('tc-43')" style="background: #4caf50;">
                            üìã Copy Result
                        </button>
                    </div>
                    <div id="comparison-result-tc-43" class="comparison-result"></div>
                </div>
            </div>

            <div class="notes">
                <div class="notes-title">üìù Validation Notes</div>
                <div class="notes-text">
                    ‚Ä¢ Players: 3<br>
                    ‚Ä¢ Complexity: Medium<br>
                    ‚Ä¢ Blinds: SB 2,500 / BB 5,000 / Ante 5,000<br>
                    ‚Ä¢ Button rotation: Previous SB ‚Üí New Dealer<br>
                    ‚Ä¢ All players present in next hand: ‚úÖ
                </div>
            </div>
            </div>
        </div>


        <!-- TEST CASE 44 -->
        <div class="test-case">
            <div class="test-header" onclick="toggleTestCase(this)">
                <div>
                    <div class="test-id">TC-44</div>
                    <div class="test-name">3P Medium - With Betting (SB:10,000 BB:20,000)</div>
                </div>
                <div class="badges">
                    <span class="badge medium">Medium</span>
                    <span class="collapse-icon collapsed">‚ñ∂</span>
                </div>
            </div>

            <div class="test-content collapsed">
            <div style="background: #ffebee; border: 2px solid #f44336; padding: 10px; margin: 10px 0; border-radius: 4px;">
<strong style="color: #c62828;">‚ùå VALIDATION ERRORS:</strong><ul>
<li style="color: #c62828;">Base/More validation failed: Preflop: Base has 3 actions, but 1 active players</li>
<li style="color: #c62828;">Base/More validation failed: Flop: Base has 3 actions, but 1 active players</li>
<li style="color: #c62828;">Base/More validation failed: Turn: Base has 3 actions, but 1 active players</li>
<li style="color: #c62828;">Base/More validation failed: River: Base has 3 actions, but 1 active players</li>
</ul></div>


            <div class="section-title">Stack Setup</div>
            <div class="blind-setup">
                <div class="blind-item"><label>Small Blind</label><div class="value">10,000</div></div>
                <div class="blind-item"><label>Big Blind</label><div class="value">20,000</div></div>
                <div class="blind-item"><label>Ante</label><div class="value">20,000</div></div>
                <div class="blind-item"><label>Ante Order</label><div class="value">BB First</div></div>
            </div>

            <div class="copy-instruction">üìã Copy and paste this into the app:</div>
            <button class="copy-btn" onclick="copyPlayerData(this, `Hand (44)\nstarted_at: 00:02:30 ended_at: 00:05:40\nSB 10000 BB 20000 Ante 20000\nStack Setup:\nAlice Dealer 1200000\nBob SB 360000\nCharlie BB 740000`)">
                <span>üìã</span> Copy Player Data
            </button>
            <div class="player-data-box">
<pre>Hand (44)
started_at: 00:02:30 ended_at: 00:05:40
SB 10000 BB 20000 Ante 20000
Stack Setup:
Alice Dealer 1200000
Bob SB 360000
Charlie BB 740000</pre>
            </div>

            <div class="section-title">Actions</div>
            <div class="actions-section">
                <div class="street-block">
                    <div class="street-name">Preflop Base</div>
                    <div class="action-row"><span class="action-player">Alice (Dealer):</span> <span class="action-type">Call</span> <span class="action-amount">20,000</span></div>
                    <div class="action-row"><span class="action-player">Bob (SB):</span> <span class="action-type">Call</span> <span class="action-amount">20,000</span></div>
                    <div class="action-row"><span class="action-player">Charlie (BB):</span> <span class="action-type">Check</span></div>
                </div>
                <div class="street-block">
                    <div class="street-name">Flop Base</div>
                    <div class="action-row"><span class="action-player">Bob (SB):</span> <span class="action-type">Bet</span> <span class="action-amount">140,000</span></div>
                    <div class="action-row"><span class="action-player">Charlie (BB):</span> <span class="action-type">Call</span> <span class="action-amount">140,000</span></div>
                    <div class="action-row"><span class="action-player">Alice (Dealer):</span> <span class="action-type">Call</span> <span class="action-amount">140,000</span></div>
                </div>
                <div class="street-block">
                    <div class="street-name">Turn Base</div>
                    <div class="action-row"><span class="action-player">Bob (SB):</span> <span class="action-type">Bet</span> <span class="action-amount">140,000</span></div>
                    <div class="action-row"><span class="action-player">Charlie (BB):</span> <span class="action-type">Call</span> <span class="action-amount">140,000</span></div>
                    <div class="action-row"><span class="action-player">Alice (Dealer):</span> <span class="action-type">Call</span> <span class="action-amount">140,000</span></div>
                </div>
                <div class="street-block">
                    <div class="street-name">River Base</div>
                    <div class="action-row"><span class="action-player">Alice (Dealer):</span> <span class="action-type">Bet</span> <span class="action-amount">140,000</span></div>
                    <div class="action-row"><span class="action-player">Bob (SB):</span> <span class="action-type">Raise</span> <span class="action-amount">60,000</span></div>
                    <div class="action-row"><span class="action-player">Charlie (BB):</span> <span class="action-type">Fold</span></div>
                </div>
            </div>


            <div class="section-title">Expected Results</div>
            <div class="results-section">
                <div class="pot-summary">Total Pot: 1,120,000</div>
                <div style="background: #d4edda; border: 1px solid #c3e6cb; padding: 10px; border-radius: 4px; margin-bottom: 12px;">
                    <strong style="color: #155724;">‚úÖ VALIDATION PASSED</strong> - All pot calculations and stack distributions are correct.
                </div>
                <div class="ante-info-box">
                    <strong>BB Ante: 20,000</strong>
                    <div style="margin-top: 5px;">
                        Charlie posts ante (20,000) first ‚Üí stack becomes 720,000<br>
                        Charlie posts blind (20,000) ‚Üí stack becomes 700,000
                    </div>
                </div>
                <div class="pot-item main">
                    <div class="pot-name">Main Pot</div>
                    <div class="pot-amount">920,000 (82.1%)</div>
                    <div class="eligible">Eligible: <span>Charlie</span> <span>Bob</span> <span>Alice</span></div>
                    <div style="font-size: 11px; color: #666; margin-top: 5px;">
                        Calculation: 1,100,000 (live) + 20,000 (BB ante dead) = 1,120,000
                    </div>
                </div>
                <div class="pot-item side1">
                    <div class="pot-name">Side Pot 1</div>
                    <div class="pot-amount">120,000 (10.7%)</div>
                    <div class="eligible">Eligible: <span>Bob</span> <span>Alice</span></div>
                    <div style="font-size: 11px; color: #666; margin-top: 5px;">
                        Calculation: 60,000 √ó 2 players = 120,000
                    </div>
                </div>
                <div class="pot-item side2">
                    <div class="pot-name">Side Pot 2</div>
                    <div class="pot-amount">80,000 (7.1%)</div>
                    <div class="eligible">Eligible: <span>Alice</span></div>
                    <div style="font-size: 11px; color: #666; margin-top: 5px;">
                        Calculation: 80,000 √ó 1 players = 80,000
                    </div>
                </div>
                <table>
                    <thead>
                        <tr>
                            <th>Player (Position)</th>
                            <th>Starting Stack</th>
                            <th>Final Stack</th>
                            <th>Contributed</th>
                            <th>Winner</th>
                            <th>New Stack</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Alice (Dealer)</td>
                            <td>1,200,000</td>
                            <td>760,000</td>
                            <td>440,000</td>
                            <td><span class="winner-badge" onclick="toggleBreakdown(this)">
                                    üèÜ Main Pot + Side Pot 1 + Side Pot 2 <span class="expand-icon">‚ñº</span>
                                </span>
                                <div class="breakdown-details" style="display:none;">
                                                                        <div class="breakdown-line">Final Stack: 760,000</div>
                                    <div class="breakdown-line">+ Main Pot: 920,000</div>
                                    <div class="breakdown-line">+ Side Pot 1: 120,000</div>
                                    <div class="breakdown-line">+ Side Pot 2: 80,000</div>
                                    <div class="breakdown-line total">= New Stack: 1,880,000</div>
                                </div></td>
                            <td>1,880,000</td>
                        </tr>
                        <tr>
                            <td>Bob (SB)</td>
                            <td>360,000</td>
                            <td>0</td>
                            <td>360,000</td>
                            <td><span class="winner-badge loser">-</span></td>
                            <td>0</td>
                        </tr>
                        <tr>
                            <td>Charlie (BB)</td>
                            <td>740,000</td>
                            <td>420,000</td>
                            <td>320,000</td>
                            <td><span class="winner-badge loser">-</span></td>
                            <td>420,000</td>
                        </tr>
                    </tbody>
                </table>
            </div>


            <div class="next-hand-preview">
                <div class="next-hand-header">
                    <div class="next-hand-title">üìã Next Hand Preview</div>
                    <button class="copy-btn" onclick="copyPlayerData(this, `Hand (45)\nstarted_at: 00:05:40 ended_at: HH:MM:SS\nSB 10000 BB 20000 Ante 20000\nStack Setup:\nBob Dealer 0\nCharlie SB 420000\nAlice BB 1880000`)">
                        <span>üìã</span> Copy Next Hand
                    </button>
                </div>
                <div class="next-hand-content">
Hand (45)
started_at: 00:05:40 ended_at: HH:MM:SS
SB 10000 BB 20000 Ante 20000
Stack Setup:
Bob Dealer 0
Charlie SB 420000
Alice BB 1880000
                </div>

                <div class="comparison-section">
                    <div class="comparison-header">üîç Compare with Actual Output</div>
                    <textarea id="actual-output-tc-44" class="comparison-textarea" placeholder="Paste the actual next hand output from your app here..." rows="8"></textarea>
                    <div style="margin-bottom: 10px;">
                        <button class="paste-btn" onclick="pasteFromClipboard(this, 'tc-44')">
                            üìã Paste from Clipboard
                        </button>
                        <button class="compare-btn" onclick="compareNextHand('tc-44', `Hand (45)\nstarted_at: 00:05:40 ended_at: HH:MM:SS\nSB 10000 BB 20000 Ante 20000\nStack Setup:\nBob Dealer 0\nCharlie SB 420000\nAlice BB 1880000`)">
                            üîç Compare
                        </button>
                        <button class="copy-result-btn" onclick="copyComparisonResult('tc-44')" style="background: #4caf50;">
                            üìã Copy Result
                        </button>
                    </div>
                    <div id="comparison-result-tc-44" class="comparison-result"></div>
                </div>
            </div>

            <div class="notes">
                <div class="notes-title">üìù Validation Notes</div>
                <div class="notes-text">
                    ‚Ä¢ Players: 3<br>
                    ‚Ä¢ Complexity: Medium<br>
                    ‚Ä¢ Blinds: SB 10,000 / BB 20,000 / Ante 20,000<br>
                    ‚Ä¢ Button rotation: Previous SB ‚Üí New Dealer<br>
                    ‚Ä¢ All players present in next hand: ‚úÖ
                </div>
            </div>
            </div>
        </div>


        <!-- TEST CASE 45 -->
        <div class="test-case">
            <div class="test-header" onclick="toggleTestCase(this)">
                <div>
                    <div class="test-id">TC-45</div>
                    <div class="test-name">4P Medium - With Betting (SB:50,000 BB:100,000)</div>
                </div>
                <div class="badges">
                    <span class="badge medium">Medium</span>
                    <span class="collapse-icon collapsed">‚ñ∂</span>
                </div>
            </div>

            <div class="test-content collapsed">
            <div style="background: #ffebee; border: 2px solid #f44336; padding: 10px; margin: 10px 0; border-radius: 4px;">
<strong style="color: #c62828;">‚ùå VALIDATION ERRORS:</strong><ul>
<li style="color: #c62828;">Base/More validation failed: Preflop: Base has 5 actions, but 2 active players</li>
<li style="color: #c62828;">Base/More validation failed: Flop: Base has 8 actions, but 2 active players</li>
</ul></div>


            <div class="section-title">Stack Setup</div>
            <div class="blind-setup">
                <div class="blind-item"><label>Small Blind</label><div class="value">50,000</div></div>
                <div class="blind-item"><label>Big Blind</label><div class="value">100,000</div></div>
                <div class="blind-item"><label>Ante</label><div class="value">100,000</div></div>
                <div class="blind-item"><label>Ante Order</label><div class="value">BB First</div></div>
            </div>

            <div class="copy-instruction">üìã Copy and paste this into the app:</div>
            <button class="copy-btn" onclick="copyPlayerData(this, `Hand (45)\nstarted_at: 00:02:30 ended_at: 00:05:40\nSB 50000 BB 100000 Ante 100000\nStack Setup:\nAlice Dealer 2600000\nBob SB 1600000\nCharlie BB 2100000\nDavid 4300000`)">
                <span>üìã</span> Copy Player Data
            </button>
            <div class="player-data-box">
<pre>Hand (45)
started_at: 00:02:30 ended_at: 00:05:40
SB 50000 BB 100000 Ante 100000
Stack Setup:
Alice Dealer 2600000
Bob SB 1600000
Charlie BB 2100000
David 4300000</pre>
            </div>

            <div class="section-title">Actions</div>
            <div class="actions-section">
                <div class="street-block">
                    <div class="street-name">Preflop Base</div>
                    <div class="action-row"><span class="action-player">David (UTG):</span> <span class="action-type">Raise</span> <span class="action-amount">500,000</span></div>
                    <div class="action-row"><span class="action-player">Alice (Dealer):</span> <span class="action-type">Raise</span> <span class="action-amount">1,100,000</span></div>
                    <div class="action-row"><span class="action-player">Bob (SB):</span> <span class="action-type">Call</span> <span class="action-amount">1,100,000</span></div>
                    <div class="action-row"><span class="action-player">Charlie (BB):</span> <span class="action-type">Call</span> <span class="action-amount">1,100,000</span></div>
                    <div class="action-row"><span class="action-player">David (UTG):</span> <span class="action-type">Call</span> <span class="action-amount">1,100,000</span></div>
                </div>
                <div class="street-block">
                    <div class="street-name">Flop Base</div>
                    <div class="action-row"><span class="action-player">Alice (Dealer):</span> <span class="action-type">Bet</span> <span class="action-amount">1,000,000</span></div>
                    <div class="action-row"><span class="action-player">Bob (SB):</span> <span class="action-type">Raise</span> <span class="action-amount">500,000</span></div>
                    <div class="action-row"><span class="action-player">Charlie (BB):</span> <span class="action-type">Call</span> <span class="action-amount">500,000</span></div>
                    <div class="action-row"><span class="action-player">David (UTG):</span> <span class="action-type">Call</span> <span class="action-amount">500,000</span></div>
                    <div class="action-row"><span class="action-player">Alice (Dealer):</span> <span class="action-type">Raise</span> <span class="action-amount">1,000,000</span></div>
                    <div class="action-row"><span class="action-player">Charlie (BB):</span> <span class="action-type">Fold</span></div>
                    <div class="action-row"><span class="action-player">David (UTG):</span> <span class="action-type">Call</span> <span class="action-amount">1,000,000</span></div>
                    <div class="action-row"><span class="action-player">Alice (Dealer):</span> <span class="action-type">Call</span> <span class="action-amount">1,000,000</span></div>
                </div>
            </div>


            <div class="section-title">Expected Results</div>
            <div class="results-section">
                <div class="pot-summary">Total Pot: 7,500,000</div>
                <div style="background: #d4edda; border: 1px solid #c3e6cb; padding: 10px; border-radius: 4px; margin-bottom: 12px;">
                    <strong style="color: #155724;">‚úÖ VALIDATION PASSED</strong> - All pot calculations and stack distributions are correct.
                </div>
                <div class="ante-info-box">
                    <strong>BB Ante: 100,000</strong>
                    <div style="margin-top: 5px;">
                        Charlie posts ante (100,000) first ‚Üí stack becomes 2,000,000<br>
                        Charlie posts blind (100,000) ‚Üí stack becomes 1,900,000
                    </div>
                </div>
                <div class="pot-item main">
                    <div class="pot-name">Main Pot</div>
                    <div class="pot-amount">6,500,000 (86.7%)</div>
                    <div class="eligible">Eligible: <span>Bob</span> <span>Charlie</span> <span>Alice</span> <span>David</span></div>
                    <div style="font-size: 11px; color: #666; margin-top: 5px;">
                        Calculation: 7,400,000 (live) + 100,000 (BB ante dead) = 7,500,000
                    </div>
                </div>
                <div class="pot-item side1">
                    <div class="pot-name">Side Pot 1</div>
                    <div class="pot-amount">1,000,000 (13.3%)</div>
                    <div class="eligible">Eligible: <span>Alice</span> <span>David</span></div>
                    <div style="font-size: 11px; color: #666; margin-top: 5px;">
                        Calculation: 500,000 √ó 2 players = 1,000,000
                    </div>
                </div>
                <table>
                    <thead>
                        <tr>
                            <th>Player (Position)</th>
                            <th>Starting Stack</th>
                            <th>Final Stack</th>
                            <th>Contributed</th>
                            <th>Winner</th>
                            <th>New Stack</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Alice (Dealer)</td>
                            <td>2,600,000</td>
                            <td>500,000</td>
                            <td>2,100,000</td>
                            <td><span class="winner-badge loser">-</span></td>
                            <td>500,000</td>
                        </tr>
                        <tr>
                            <td>Bob (SB)</td>
                            <td>1,600,000</td>
                            <td>0</td>
                            <td>1,600,000</td>
                            <td><span class="winner-badge loser">-</span></td>
                            <td>0</td>
                        </tr>
                        <tr>
                            <td>Charlie (BB)</td>
                            <td>2,100,000</td>
                            <td>400,000</td>
                            <td>1,700,000</td>
                            <td><span class="winner-badge loser">-</span></td>
                            <td>400,000</td>
                        </tr>
                        <tr>
                            <td>David (UTG)</td>
                            <td>4,300,000</td>
                            <td>2,200,000</td>
                            <td>2,100,000</td>
                            <td><span class="winner-badge" onclick="toggleBreakdown(this)">
                                    üèÜ Main Pot + Side Pot 1 <span class="expand-icon">‚ñº</span>
                                </span>
                                <div class="breakdown-details" style="display:none;">
                                                                        <div class="breakdown-line">Final Stack: 2,200,000</div>
                                    <div class="breakdown-line">+ Main Pot: 6,500,000</div>
                                    <div class="breakdown-line">+ Side Pot 1: 1,000,000</div>
                                    <div class="breakdown-line total">= New Stack: 9,700,000</div>
                                </div></td>
                            <td>9,700,000</td>
                        </tr>
                    </tbody>
                </table>
            </div>


            <div class="next-hand-preview">
                <div class="next-hand-header">
                    <div class="next-hand-title">üìã Next Hand Preview</div>
                    <button class="copy-btn" onclick="copyPlayerData(this, `Hand (46)\nstarted_at: 00:05:40 ended_at: HH:MM:SS\nSB 50000 BB 100000 Ante 100000\nStack Setup:\nBob Dealer 0\nCharlie SB 400000\nDavid BB 9700000\nAlice 500000`)">
                        <span>üìã</span> Copy Next Hand
                    </button>
                </div>
                <div class="next-hand-content">
Hand (46)
started_at: 00:05:40 ended_at: HH:MM:SS
SB 50000 BB 100000 Ante 100000
Stack Setup:
Bob Dealer 0
Charlie SB 400000
David BB 9700000
Alice 500000
                </div>

                <div class="comparison-section">
                    <div class="comparison-header">üîç Compare with Actual Output</div>
                    <textarea id="actual-output-tc-45" class="comparison-textarea" placeholder="Paste the actual next hand output from your app here..." rows="8"></textarea>
                    <div style="margin-bottom: 10px;">
                        <button class="paste-btn" onclick="pasteFromClipboard(this, 'tc-45')">
                            üìã Paste from Clipboard
                        </button>
                        <button class="compare-btn" onclick="compareNextHand('tc-45', `Hand (46)\nstarted_at: 00:05:40 ended_at: HH:MM:SS\nSB 50000 BB 100000 Ante 100000\nStack Setup:\nBob Dealer 0\nCharlie SB 400000\nDavid BB 9700000\nAlice 500000`)">
                            üîç Compare
                        </button>
                        <button class="copy-result-btn" onclick="copyComparisonResult('tc-45')" style="background: #4caf50;">
                            üìã Copy Result
                        </button>
                    </div>
                    <div id="comparison-result-tc-45" class="comparison-result"></div>
                </div>
            </div>

            <div class="notes">
                <div class="notes-title">üìù Validation Notes</div>
                <div class="notes-text">
                    ‚Ä¢ Players: 4<br>
                    ‚Ä¢ Complexity: Medium<br>
                    ‚Ä¢ Blinds: SB 50,000 / BB 100,000 / Ante 100,000<br>
                    ‚Ä¢ Button rotation: Previous SB ‚Üí New Dealer<br>
                    ‚Ä¢ All players present in next hand: ‚úÖ
                </div>
            </div>
            </div>
        </div>


        <!-- TEST CASE 46 -->
        <div class="test-case">
            <div class="test-header" onclick="toggleTestCase(this)">
                <div>
                    <div class="test-id">TC-46</div>
                    <div class="test-name">4P Medium - With Betting (SB:50,000 BB:100,000)</div>
                </div>
                <div class="badges">
                    <span class="badge medium">Medium</span>
                    <span class="collapse-icon collapsed">‚ñ∂</span>
                </div>
            </div>

            <div class="test-content collapsed">
            <div style="background: #ffebee; border: 2px solid #f44336; padding: 10px; margin: 10px 0; border-radius: 4px;">
<strong style="color: #c62828;">‚ùå VALIDATION ERRORS:</strong><ul>
<li style="color: #c62828;">Base/More validation failed: Preflop: Base has 5 actions, but 2 active players</li>
<li style="color: #c62828;">Base/More validation failed: Flop: Base has 4 actions, but 2 active players</li>
<li style="color: #c62828;">Base/More validation failed: Turn: Base has 7 actions, but 2 active players</li>
<li style="color: #c62828;">Base/More validation failed: River: Action order wrong. Expected Charlie, got Bob</li>
</ul></div>


            <div class="section-title">Stack Setup</div>
            <div class="blind-setup">
                <div class="blind-item"><label>Small Blind</label><div class="value">50,000</div></div>
                <div class="blind-item"><label>Big Blind</label><div class="value">100,000</div></div>
                <div class="blind-item"><label>Ante</label><div class="value">100,000</div></div>
                <div class="blind-item"><label>Ante Order</label><div class="value">BB First</div></div>
            </div>

            <div class="copy-instruction">üìã Copy and paste this into the app:</div>
            <button class="copy-btn" onclick="copyPlayerData(this, `Hand (46)\nstarted_at: 00:02:30 ended_at: 00:05:40\nSB 50000 BB 100000 Ante 100000\nStack Setup:\nAlice Dealer 4000000\nBob SB 5200000\nCharlie BB 5900000\nDavid 4500000`)">
                <span>üìã</span> Copy Player Data
            </button>
            <div class="player-data-box">
<pre>Hand (46)
started_at: 00:02:30 ended_at: 00:05:40
SB 50000 BB 100000 Ante 100000
Stack Setup:
Alice Dealer 4000000
Bob SB 5200000
Charlie BB 5900000
David 4500000</pre>
            </div>

            <div class="section-title">Actions</div>
            <div class="actions-section">
                <div class="street-block">
                    <div class="street-name">Preflop Base</div>
                    <div class="action-row"><span class="action-player">David (UTG):</span> <span class="action-type">Raise</span> <span class="action-amount">300,000</span></div>
                    <div class="action-row"><span class="action-player">Alice (Dealer):</span> <span class="action-type">Raise</span> <span class="action-amount">900,000</span></div>
                    <div class="action-row"><span class="action-player">Bob (SB):</span> <span class="action-type">Call</span> <span class="action-amount">900,000</span></div>
                    <div class="action-row"><span class="action-player">Charlie (BB):</span> <span class="action-type">Call</span> <span class="action-amount">900,000</span></div>
                    <div class="action-row"><span class="action-player">David (UTG):</span> <span class="action-type">Call</span> <span class="action-amount">900,000</span></div>
                </div>
                <div class="street-block">
                    <div class="street-name">Flop Base</div>
                    <div class="action-row"><span class="action-player">Bob (SB):</span> <span class="action-type">Bet</span> <span class="action-amount">400,000</span></div>
                    <div class="action-row"><span class="action-player">Charlie (BB):</span> <span class="action-type">Call</span> <span class="action-amount">400,000</span></div>
                    <div class="action-row"><span class="action-player">David (UTG):</span> <span class="action-type">Call</span> <span class="action-amount">400,000</span></div>
                    <div class="action-row"><span class="action-player">Alice (Dealer):</span> <span class="action-type">Fold</span></div>
                </div>
                <div class="street-block">
                    <div class="street-name">Turn Base</div>
                    <div class="action-row"><span class="action-player">Bob (SB):</span> <span class="action-type">Bet</span> <span class="action-amount">1,000,000</span></div>
                    <div class="action-row"><span class="action-player">Charlie (BB):</span> <span class="action-type">Raise</span> <span class="action-amount">1,800,000</span></div>
                    <div class="action-row"><span class="action-player">David (UTG):</span> <span class="action-type">Call</span> <span class="action-amount">1,800,000</span></div>
                    <div class="action-row"><span class="action-player">Bob (SB):</span> <span class="action-type">Raise</span> <span class="action-amount">2,800,000</span></div>
                    <div class="action-row"><span class="action-player">Charlie (BB):</span> <span class="action-type">Call</span> <span class="action-amount">2,800,000</span></div>
                    <div class="action-row"><span class="action-player">David (UTG):</span> <span class="action-type">Fold</span></div>
                    <div class="action-row"><span class="action-player">Bob (SB):</span> <span class="action-type">Call</span> <span class="action-amount">2,800,000</span></div>
                </div>
                <div class="street-block">
                    <div class="street-name">River Base</div>
                    <div class="action-row"><span class="action-player">Bob (SB):</span> <span class="action-type">Bet</span> <span class="action-amount">800,000</span></div>
                    <div class="action-row"><span class="action-player">Charlie (BB):</span> <span class="action-type">Call</span> <span class="action-amount">800,000</span></div>
                </div>
            </div>


            <div class="section-title">Expected Results</div>
            <div class="results-section">
                <div class="pot-summary">Total Pot: 13,900,000</div>
                <div style="background: #d4edda; border: 1px solid #c3e6cb; padding: 10px; border-radius: 4px; margin-bottom: 12px;">
                    <strong style="color: #155724;">‚úÖ VALIDATION PASSED</strong> - All pot calculations and stack distributions are correct.
                </div>
                <div class="ante-info-box">
                    <strong>BB Ante: 100,000</strong>
                    <div style="margin-top: 5px;">
                        Charlie posts ante (100,000) first ‚Üí stack becomes 5,800,000<br>
                        Charlie posts blind (100,000) ‚Üí stack becomes 5,700,000
                    </div>
                </div>
                <div class="pot-item main">
                    <div class="pot-name">Main Pot</div>
                    <div class="pot-amount">3,700,000 (26.6%)</div>
                    <div class="eligible">Eligible: <span>Alice</span> <span>David</span> <span>Bob</span> <span>Charlie</span></div>
                    <div style="font-size: 11px; color: #666; margin-top: 5px;">
                        Calculation: 13,800,000 (live) + 100,000 (BB ante dead) = 13,900,000
                    </div>
                </div>
                <div class="pot-item side1">
                    <div class="pot-name">Side Pot 1</div>
                    <div class="pot-amount">6,600,000 (47.5%)</div>
                    <div class="eligible">Eligible: <span>David</span> <span>Bob</span> <span>Charlie</span></div>
                    <div style="font-size: 11px; color: #666; margin-top: 5px;">
                        Calculation: 2,200,000 √ó 3 players = 6,600,000
                    </div>
                </div>
                <div class="pot-item side2">
                    <div class="pot-name">Side Pot 2</div>
                    <div class="pot-amount">3,600,000 (25.9%)</div>
                    <div class="eligible">Eligible: <span>Bob</span> <span>Charlie</span></div>
                    <div style="font-size: 11px; color: #666; margin-top: 5px;">
                        Calculation: 1,800,000 √ó 2 players = 3,600,000
                    </div>
                </div>
                <table>
                    <thead>
                        <tr>
                            <th>Player (Position)</th>
                            <th>Starting Stack</th>
                            <th>Final Stack</th>
                            <th>Contributed</th>
                            <th>Winner</th>
                            <th>New Stack</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Alice (Dealer)</td>
                            <td>4,000,000</td>
                            <td>3,100,000</td>
                            <td>900,000</td>
                            <td><span class="winner-badge loser">-</span></td>
                            <td>3,100,000</td>
                        </tr>
                        <tr>
                            <td>Bob (SB)</td>
                            <td>5,200,000</td>
                            <td>300,000</td>
                            <td>4,900,000</td>
                            <td><span class="winner-badge loser">-</span></td>
                            <td>300,000</td>
                        </tr>
                        <tr>
                            <td>Charlie (BB)</td>
                            <td>5,900,000</td>
                            <td>900,000</td>
                            <td>5,000,000</td>
                            <td><span class="winner-badge" onclick="toggleBreakdown(this)">
                                    üèÜ Main Pot + Side Pot 1 + Side Pot 2 <span class="expand-icon">‚ñº</span>
                                </span>
                                <div class="breakdown-details" style="display:none;">
                                                                        <div class="breakdown-line">Final Stack: 900,000</div>
                                    <div class="breakdown-line">+ Main Pot: 3,700,000</div>
                                    <div class="breakdown-line">+ Side Pot 1: 6,600,000</div>
                                    <div class="breakdown-line">+ Side Pot 2: 3,600,000</div>
                                    <div class="breakdown-line total">= New Stack: 14,800,000</div>
                                </div></td>
                            <td>14,800,000</td>
                        </tr>
                        <tr>
                            <td>David (UTG)</td>
                            <td>4,500,000</td>
                            <td>1,400,000</td>
                            <td>3,100,000</td>
                            <td><span class="winner-badge loser">-</span></td>
                            <td>1,400,000</td>
                        </tr>
                    </tbody>
                </table>
            </div>


            <div class="next-hand-preview">
                <div class="next-hand-header">
                    <div class="next-hand-title">üìã Next Hand Preview</div>
                    <button class="copy-btn" onclick="copyPlayerData(this, `Hand (47)\nstarted_at: 00:05:40 ended_at: HH:MM:SS\nSB 50000 BB 100000 Ante 100000\nStack Setup:\nBob Dealer 300000\nCharlie SB 14800000\nDavid BB 1400000\nAlice 3100000`)">
                        <span>üìã</span> Copy Next Hand
                    </button>
                </div>
                <div class="next-hand-content">
Hand (47)
started_at: 00:05:40 ended_at: HH:MM:SS
SB 50000 BB 100000 Ante 100000
Stack Setup:
Bob Dealer 300000
Charlie SB 14800000
David BB 1400000
Alice 3100000
                </div>

                <div class="comparison-section">
                    <div class="comparison-header">üîç Compare with Actual Output</div>
                    <textarea id="actual-output-tc-46" class="comparison-textarea" placeholder="Paste the actual next hand output from your app here..." rows="8"></textarea>
                    <div style="margin-bottom: 10px;">
                        <button class="paste-btn" onclick="pasteFromClipboard(this, 'tc-46')">
                            üìã Paste from Clipboard
                        </button>
                        <button class="compare-btn" onclick="compareNextHand('tc-46', `Hand (47)\nstarted_at: 00:05:40 ended_at: HH:MM:SS\nSB 50000 BB 100000 Ante 100000\nStack Setup:\nBob Dealer 300000\nCharlie SB 14800000\nDavid BB 1400000\nAlice 3100000`)">
                            üîç Compare
                        </button>
                        <button class="copy-result-btn" onclick="copyComparisonResult('tc-46')" style="background: #4caf50;">
                            üìã Copy Result
                        </button>
                    </div>
                    <div id="comparison-result-tc-46" class="comparison-result"></div>
                </div>
            </div>

            <div class="notes">
                <div class="notes-title">üìù Validation Notes</div>
                <div class="notes-text">
                    ‚Ä¢ Players: 4<br>
                    ‚Ä¢ Complexity: Medium<br>
                    ‚Ä¢ Blinds: SB 50,000 / BB 100,000 / Ante 100,000<br>
                    ‚Ä¢ Button rotation: Previous SB ‚Üí New Dealer<br>
                    ‚Ä¢ All players present in next hand: ‚úÖ
                </div>
            </div>
            </div>
        </div>


        <!-- TEST CASE 47 -->
        <div class="test-case">
            <div class="test-header" onclick="toggleTestCase(this)">
                <div>
                    <div class="test-id">TC-47</div>
                    <div class="test-name">3P Complex - With Betting (SB:500,000 BB:1,000,000)</div>
                </div>
                <div class="badges">
                    <span class="badge complex">Complex</span>
                    <span class="collapse-icon collapsed">‚ñ∂</span>
                </div>
            </div>

            <div class="test-content collapsed">
            <div style="background: #ffebee; border: 2px solid #f44336; padding: 10px; margin: 10px 0; border-radius: 4px;">
<strong style="color: #c62828;">‚ùå VALIDATION ERRORS:</strong><ul>
<li style="color: #c62828;">Base/More validation failed: Preflop: Base has 3 actions, but 1 active players</li>
<li style="color: #c62828;">Base/More validation failed: Flop: Base has 4 actions, but 1 active players</li>
<li style="color: #c62828;">Base/More validation failed: Turn: Base has 2 actions, but 1 active players</li>
</ul></div>


            <div class="section-title">Stack Setup</div>
            <div class="blind-setup">
                <div class="blind-item"><label>Small Blind</label><div class="value">500,000</div></div>
                <div class="blind-item"><label>Big Blind</label><div class="value">1,000,000</div></div>
                <div class="blind-item"><label>Ante</label><div class="value">1,000,000</div></div>
                <div class="blind-item"><label>Ante Order</label><div class="value">BB First</div></div>
            </div>

            <div class="copy-instruction">üìã Copy and paste this into the app:</div>
            <button class="copy-btn" onclick="copyPlayerData(this, `Hand (47)\nstarted_at: 00:02:30 ended_at: 00:05:40\nSB 500000 BB 1000000 Ante 1000000\nStack Setup:\nAlice Dealer 48000000\nBob SB 25000000\nCharlie BB 10000000`)">
                <span>üìã</span> Copy Player Data
            </button>
            <div class="player-data-box">
<pre>Hand (47)
started_at: 00:02:30 ended_at: 00:05:40
SB 500000 BB 1000000 Ante 1000000
Stack Setup:
Alice Dealer 48000000
Bob SB 25000000
Charlie BB 10000000</pre>
            </div>

            <div class="section-title">Actions</div>
            <div class="actions-section">
                <div class="street-block">
                    <div class="street-name">Preflop Base</div>
                    <div class="action-row"><span class="action-player">Alice (Dealer):</span> <span class="action-type">Call</span> <span class="action-amount">1,000,000</span></div>
                    <div class="action-row"><span class="action-player">Bob (SB):</span> <span class="action-type">Call</span> <span class="action-amount">1,000,000</span></div>
                    <div class="action-row"><span class="action-player">Charlie (BB):</span> <span class="action-type">Check</span></div>
                </div>
                <div class="street-block">
                    <div class="street-name">Flop Base</div>
                    <div class="action-row"><span class="action-player">Alice (Dealer):</span> <span class="action-type">Bet</span> <span class="action-amount">10,000,000</span></div>
                    <div class="action-row"><span class="action-player">Bob (SB):</span> <span class="action-type">Raise</span> <span class="action-amount">16,000,000</span></div>
                    <div class="action-row"><span class="action-player">Charlie (BB):</span> <span class="action-type">Call</span> <span class="action-amount">8,000,000</span></div>
                    <div class="action-row"><span class="action-player">Alice (Dealer):</span> <span class="action-type">Call</span> <span class="action-amount">16,000,000</span></div>
                </div>
                <div class="street-block">
                    <div class="street-name">Turn Base</div>
                    <div class="action-row"><span class="action-player">Bob (SB):</span> <span class="action-type">Bet</span> <span class="action-amount">8,000,000</span></div>
                    <div class="action-row"><span class="action-player">Alice (Dealer):</span> <span class="action-type">Call</span> <span class="action-amount">8,000,000</span></div>
                </div>
            </div>


            <div class="section-title">Expected Results</div>
            <div class="results-section">
                <div class="pot-summary">Total Pot: 60,000,000</div>
                <div style="background: #d4edda; border: 1px solid #c3e6cb; padding: 10px; border-radius: 4px; margin-bottom: 12px;">
                    <strong style="color: #155724;">‚úÖ VALIDATION PASSED</strong> - All pot calculations and stack distributions are correct.
                </div>
                <div class="ante-info-box">
                    <strong>BB Ante: 1,000,000</strong>
                    <div style="margin-top: 5px;">
                        Charlie posts ante (1,000,000) first ‚Üí stack becomes 9,000,000<br>
                        Charlie posts blind (1,000,000) ‚Üí stack becomes 8,000,000
                    </div>
                </div>
                <div class="pot-item main">
                    <div class="pot-name">Main Pot</div>
                    <div class="pot-amount">28,000,000 (46.7%)</div>
                    <div class="eligible">Eligible: <span>Charlie</span> <span>Alice</span> <span>Bob</span></div>
                    <div style="font-size: 11px; color: #666; margin-top: 5px;">
                        Calculation: 59,000,000 (live) + 1,000,000 (BB ante dead) = 60,000,000
                    </div>
                </div>
                <div class="pot-item side1">
                    <div class="pot-name">Side Pot 1</div>
                    <div class="pot-amount">32,000,000 (53.3%)</div>
                    <div class="eligible">Eligible: <span>Alice</span> <span>Bob</span></div>
                    <div style="font-size: 11px; color: #666; margin-top: 5px;">
                        Calculation: 16,000,000 √ó 2 players = 32,000,000
                    </div>
                </div>
                <table>
                    <thead>
                        <tr>
                            <th>Player (Position)</th>
                            <th>Starting Stack</th>
                            <th>Final Stack</th>
                            <th>Contributed</th>
                            <th>Winner</th>
                            <th>New Stack</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Alice (Dealer)</td>
                            <td>48,000,000</td>
                            <td>23,000,000</td>
                            <td>25,000,000</td>
                            <td><span class="winner-badge" onclick="toggleBreakdown(this)">
                                    üèÜ Main Pot + Side Pot 1 <span class="expand-icon">‚ñº</span>
                                </span>
                                <div class="breakdown-details" style="display:none;">
                                                                        <div class="breakdown-line">Final Stack: 23,000,000</div>
                                    <div class="breakdown-line">+ Main Pot: 28,000,000</div>
                                    <div class="breakdown-line">+ Side Pot 1: 32,000,000</div>
                                    <div class="breakdown-line total">= New Stack: 83,000,000</div>
                                </div></td>
                            <td>83,000,000</td>
                        </tr>
                        <tr>
                            <td>Bob (SB)</td>
                            <td>25,000,000</td>
                            <td>0</td>
                            <td>25,000,000</td>
                            <td><span class="winner-badge loser">-</span></td>
                            <td>0</td>
                        </tr>
                        <tr>
                            <td>Charlie (BB)</td>
                            <td>10,000,000</td>
                            <td>0</td>
                            <td>10,000,000</td>
                            <td><span class="winner-badge loser">-</span></td>
                            <td>0</td>
                        </tr>
                    </tbody>
                </table>
            </div>


            <div class="next-hand-preview">
                <div class="next-hand-header">
                    <div class="next-hand-title">üìã Next Hand Preview</div>
                    <button class="copy-btn" onclick="copyPlayerData(this, `Hand (48)\nstarted_at: 00:05:40 ended_at: HH:MM:SS\nSB 500000 BB 1000000 Ante 1000000\nStack Setup:\nBob Dealer 0\nCharlie SB 0\nAlice BB 83000000`)">
                        <span>üìã</span> Copy Next Hand
                    </button>
                </div>
                <div class="next-hand-content">
Hand (48)
started_at: 00:05:40 ended_at: HH:MM:SS
SB 500000 BB 1000000 Ante 1000000
Stack Setup:
Bob Dealer 0
Charlie SB 0
Alice BB 83000000
                </div>

                <div class="comparison-section">
                    <div class="comparison-header">üîç Compare with Actual Output</div>
                    <textarea id="actual-output-tc-47" class="comparison-textarea" placeholder="Paste the actual next hand output from your app here..." rows="8"></textarea>
                    <div style="margin-bottom: 10px;">
                        <button class="paste-btn" onclick="pasteFromClipboard(this, 'tc-47')">
                            üìã Paste from Clipboard
                        </button>
                        <button class="compare-btn" onclick="compareNextHand('tc-47', `Hand (48)\nstarted_at: 00:05:40 ended_at: HH:MM:SS\nSB 500000 BB 1000000 Ante 1000000\nStack Setup:\nBob Dealer 0\nCharlie SB 0\nAlice BB 83000000`)">
                            üîç Compare
                        </button>
                        <button class="copy-result-btn" onclick="copyComparisonResult('tc-47')" style="background: #4caf50;">
                            üìã Copy Result
                        </button>
                    </div>
                    <div id="comparison-result-tc-47" class="comparison-result"></div>
                </div>
            </div>

            <div class="notes">
                <div class="notes-title">üìù Validation Notes</div>
                <div class="notes-text">
                    ‚Ä¢ Players: 3<br>
                    ‚Ä¢ Complexity: Complex<br>
                    ‚Ä¢ Blinds: SB 500,000 / BB 1,000,000 / Ante 1,000,000<br>
                    ‚Ä¢ Button rotation: Previous SB ‚Üí New Dealer<br>
                    ‚Ä¢ All players present in next hand: ‚úÖ
                </div>
            </div>
            </div>
        </div>


        <!-- TEST CASE 48 -->
        <div class="test-case">
            <div class="test-header" onclick="toggleTestCase(this)">
                <div>
                    <div class="test-id">TC-48</div>
                    <div class="test-name">4P Complex - With Betting (SB:2,500,000 BB:5,000,000)</div>
                </div>
                <div class="badges">
                    <span class="badge complex">Complex</span>
                    <span class="collapse-icon collapsed">‚ñ∂</span>
                </div>
            </div>

            <div class="test-content collapsed">
            <div style="background: #ffebee; border: 2px solid #f44336; padding: 10px; margin: 10px 0; border-radius: 4px;">
<strong style="color: #c62828;">‚ùå VALIDATION ERRORS:</strong><ul>
<li style="color: #c62828;">Base/More validation failed: Preflop: Base has 8 actions, but 1 active players</li>
<li style="color: #c62828;">Base/More validation failed: Flop: Base has 5 actions, but 1 active players</li>
<li style="color: #c62828;">Base/More validation failed: Turn: Base has 5 actions, but 1 active players</li>
</ul></div>


            <div class="section-title">Stack Setup</div>
            <div class="blind-setup">
                <div class="blind-item"><label>Small Blind</label><div class="value">2,500,000</div></div>
                <div class="blind-item"><label>Big Blind</label><div class="value">5,000,000</div></div>
                <div class="blind-item"><label>Ante</label><div class="value">5,000,000</div></div>
                <div class="blind-item"><label>Ante Order</label><div class="value">BB First</div></div>
            </div>

            <div class="copy-instruction">üìã Copy and paste this into the app:</div>
            <button class="copy-btn" onclick="copyPlayerData(this, `Hand (48)\nstarted_at: 00:02:30 ended_at: 00:05:40\nSB 2500000 BB 5000000 Ante 5000000\nStack Setup:\nAlice Dealer 260000000\nBob SB 290000000\nCharlie BB 275000000\nDavid 250000000`)">
                <span>üìã</span> Copy Player Data
            </button>
            <div class="player-data-box">
<pre>Hand (48)
started_at: 00:02:30 ended_at: 00:05:40
SB 2500000 BB 5000000 Ante 5000000
Stack Setup:
Alice Dealer 260000000
Bob SB 290000000
Charlie BB 275000000
David 250000000</pre>
            </div>

            <div class="section-title">Actions</div>
            <div class="actions-section">
                <div class="street-block">
                    <div class="street-name">Preflop Base</div>
                    <div class="action-row"><span class="action-player">David (UTG):</span> <span class="action-type">Raise</span> <span class="action-amount">25,000,000</span></div>
                    <div class="action-row"><span class="action-player">Alice (Dealer):</span> <span class="action-type">Raise</span> <span class="action-amount">45,000,000</span></div>
                    <div class="action-row"><span class="action-player">Bob (SB):</span> <span class="action-type">Call</span> <span class="action-amount">45,000,000</span></div>
                    <div class="action-row"><span class="action-player">Charlie (BB):</span> <span class="action-type">Call</span> <span class="action-amount">45,000,000</span></div>
                    <div class="action-row"><span class="action-player">David (UTG):</span> <span class="action-type">Raise</span> <span class="action-amount">60,000,000</span></div>
                    <div class="action-row"><span class="action-player">Bob (SB):</span> <span class="action-type">Call</span> <span class="action-amount">60,000,000</span></div>
                    <div class="action-row"><span class="action-player">Charlie (BB):</span> <span class="action-type">Call</span> <span class="action-amount">60,000,000</span></div>
                    <div class="action-row"><span class="action-player">Alice (Dealer):</span> <span class="action-type">Call</span> <span class="action-amount">60,000,000</span></div>
                </div>
                <div class="street-block">
                    <div class="street-name">Flop Base</div>
                    <div class="action-row"><span class="action-player">Alice (Dealer):</span> <span class="action-type">Bet</span> <span class="action-amount">40,000,000</span></div>
                    <div class="action-row"><span class="action-player">Bob (SB):</span> <span class="action-type">Raise</span> <span class="action-amount">85,000,000</span></div>
                    <div class="action-row"><span class="action-player">Charlie (BB):</span> <span class="action-type">Fold</span></div>
                    <div class="action-row"><span class="action-player">David (UTG):</span> <span class="action-type">Call</span> <span class="action-amount">85,000,000</span></div>
                    <div class="action-row"><span class="action-player">Alice (Dealer):</span> <span class="action-type">Call</span> <span class="action-amount">85,000,000</span></div>
                </div>
                <div class="street-block">
                    <div class="street-name">Turn Base</div>
                    <div class="action-row"><span class="action-player">Alice (Dealer):</span> <span class="action-type">Bet</span> <span class="action-amount">30,000,000</span></div>
                    <div class="action-row"><span class="action-player">Bob (SB):</span> <span class="action-type">Raise</span> <span class="action-amount">75,000,000</span></div>
                    <div class="action-row"><span class="action-player">David (UTG):</span> <span class="action-type">Fold</span></div>
                    <div class="action-row"><span class="action-player">Alice (Dealer):</span> <span class="action-type">Raise</span> <span class="action-amount">115,000,000</span></div>
                    <div class="action-row"><span class="action-player">Bob (SB):</span> <span class="action-type">Call</span> <span class="action-amount">115,000,000</span></div>
                </div>
            </div>


            <div class="section-title">Expected Results</div>
            <div class="results-section">
                <div class="pot-summary">Total Pot: 730,000,000</div>
                <div style="background: #d4edda; border: 1px solid #c3e6cb; padding: 10px; border-radius: 4px; margin-bottom: 12px;">
                    <strong style="color: #155724;">‚úÖ VALIDATION PASSED</strong> - All pot calculations and stack distributions are correct.
                </div>
                <div class="ante-info-box">
                    <strong>BB Ante: 5,000,000</strong>
                    <div style="margin-top: 5px;">
                        Charlie posts ante (5,000,000) first ‚Üí stack becomes 270,000,000<br>
                        Charlie posts blind (5,000,000) ‚Üí stack becomes 265,000,000
                    </div>
                </div>
                <div class="pot-item main">
                    <div class="pot-name">Main Pot</div>
                    <div class="pot-amount">245,000,000 (33.6%)</div>
                    <div class="eligible">Eligible: <span>Charlie</span> <span>David</span> <span>Alice</span> <span>Bob</span></div>
                    <div style="font-size: 11px; color: #666; margin-top: 5px;">
                        Calculation: 725,000,000 (live) + 5,000,000 (BB ante dead) = 730,000,000
                    </div>
                </div>
                <div class="pot-item side1">
                    <div class="pot-name">Side Pot 1</div>
                    <div class="pot-amount">255,000,000 (34.9%)</div>
                    <div class="eligible">Eligible: <span>David</span> <span>Alice</span> <span>Bob</span></div>
                    <div style="font-size: 11px; color: #666; margin-top: 5px;">
                        Calculation: 85,000,000 √ó 3 players = 255,000,000
                    </div>
                </div>
                <div class="pot-item side2">
                    <div class="pot-name">Side Pot 2</div>
                    <div class="pot-amount">230,000,000 (31.5%)</div>
                    <div class="eligible">Eligible: <span>Alice</span> <span>Bob</span></div>
                    <div style="font-size: 11px; color: #666; margin-top: 5px;">
                        Calculation: 115,000,000 √ó 2 players = 230,000,000
                    </div>
                </div>
                <table>
                    <thead>
                        <tr>
                            <th>Player (Position)</th>
                            <th>Starting Stack</th>
                            <th>Final Stack</th>
                            <th>Contributed</th>
                            <th>Winner</th>
                            <th>New Stack</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Alice (Dealer)</td>
                            <td>260,000,000</td>
                            <td>0</td>
                            <td>260,000,000</td>
                            <td><span class="winner-badge loser">-</span></td>
                            <td>0</td>
                        </tr>
                        <tr>
                            <td>Bob (SB)</td>
                            <td>290,000,000</td>
                            <td>30,000,000</td>
                            <td>260,000,000</td>
                            <td><span class="winner-badge" onclick="toggleBreakdown(this)">
                                    üèÜ Main Pot + Side Pot 1 + Side Pot 2 <span class="expand-icon">‚ñº</span>
                                </span>
                                <div class="breakdown-details" style="display:none;">
                                                                        <div class="breakdown-line">Final Stack: 30,000,000</div>
                                    <div class="breakdown-line">+ Main Pot: 245,000,000</div>
                                    <div class="breakdown-line">+ Side Pot 1: 255,000,000</div>
                                    <div class="breakdown-line">+ Side Pot 2: 230,000,000</div>
                                    <div class="breakdown-line total">= New Stack: 760,000,000</div>
                                </div></td>
                            <td>760,000,000</td>
                        </tr>
                        <tr>
                            <td>Charlie (BB)</td>
                            <td>275,000,000</td>
                            <td>210,000,000</td>
                            <td>65,000,000</td>
                            <td><span class="winner-badge loser">-</span></td>
                            <td>210,000,000</td>
                        </tr>
                        <tr>
                            <td>David (UTG)</td>
                            <td>250,000,000</td>
                            <td>105,000,000</td>
                            <td>145,000,000</td>
                            <td><span class="winner-badge loser">-</span></td>
                            <td>105,000,000</td>
                        </tr>
                    </tbody>
                </table>
            </div>


            <div class="next-hand-preview">
                <div class="next-hand-header">
                    <div class="next-hand-title">üìã Next Hand Preview</div>
                    <button class="copy-btn" onclick="copyPlayerData(this, `Hand (49)\nstarted_at: 00:05:40 ended_at: HH:MM:SS\nSB 2500000 BB 5000000 Ante 5000000\nStack Setup:\nBob Dealer 760000000\nCharlie SB 210000000\nDavid BB 105000000\nAlice 0`)">
                        <span>üìã</span> Copy Next Hand
                    </button>
                </div>
                <div class="next-hand-content">
Hand (49)
started_at: 00:05:40 ended_at: HH:MM:SS
SB 2500000 BB 5000000 Ante 5000000
Stack Setup:
Bob Dealer 760000000
Charlie SB 210000000
David BB 105000000
Alice 0
                </div>

                <div class="comparison-section">
                    <div class="comparison-header">üîç Compare with Actual Output</div>
                    <textarea id="actual-output-tc-48" class="comparison-textarea" placeholder="Paste the actual next hand output from your app here..." rows="8"></textarea>
                    <div style="margin-bottom: 10px;">
                        <button class="paste-btn" onclick="pasteFromClipboard(this, 'tc-48')">
                            üìã Paste from Clipboard
                        </button>
                        <button class="compare-btn" onclick="compareNextHand('tc-48', `Hand (49)\nstarted_at: 00:05:40 ended_at: HH:MM:SS\nSB 2500000 BB 5000000 Ante 5000000\nStack Setup:\nBob Dealer 760000000\nCharlie SB 210000000\nDavid BB 105000000\nAlice 0`)">
                            üîç Compare
                        </button>
                        <button class="copy-result-btn" onclick="copyComparisonResult('tc-48')" style="background: #4caf50;">
                            üìã Copy Result
                        </button>
                    </div>
                    <div id="comparison-result-tc-48" class="comparison-result"></div>
                </div>
            </div>

            <div class="notes">
                <div class="notes-title">üìù Validation Notes</div>
                <div class="notes-text">
                    ‚Ä¢ Players: 4<br>
                    ‚Ä¢ Complexity: Complex<br>
                    ‚Ä¢ Blinds: SB 2,500,000 / BB 5,000,000 / Ante 5,000,000<br>
                    ‚Ä¢ Button rotation: Previous SB ‚Üí New Dealer<br>
                    ‚Ä¢ All players present in next hand: ‚úÖ
                </div>
            </div>
            </div>
        </div>


        <!-- TEST CASE 49 -->
        <div class="test-case">
            <div class="test-header" onclick="toggleTestCase(this)">
                <div>
                    <div class="test-id">TC-49</div>
                    <div class="test-name">4P Simple - With Betting (SB:250 BB:500)</div>
                </div>
                <div class="badges">
                    <span class="badge simple">Simple</span>
                    <span class="collapse-icon collapsed">‚ñ∂</span>
                </div>
            </div>

            <div class="test-content collapsed">
            <div style="background: #ffebee; border: 2px solid #f44336; padding: 10px; margin: 10px 0; border-radius: 4px;">
<strong style="color: #c62828;">‚ùå VALIDATION ERRORS:</strong><ul>
<li style="color: #c62828;">Base/More validation failed: Preflop: Base has 5 actions, but 4 active players</li>
</ul></div>


            <div class="section-title">Stack Setup</div>
            <div class="blind-setup">
                <div class="blind-item"><label>Small Blind</label><div class="value">250</div></div>
                <div class="blind-item"><label>Big Blind</label><div class="value">500</div></div>
                <div class="blind-item"><label>Ante</label><div class="value">500</div></div>
                <div class="blind-item"><label>Ante Order</label><div class="value">BB First</div></div>
            </div>

            <div class="copy-instruction">üìã Copy and paste this into the app:</div>
            <button class="copy-btn" onclick="copyPlayerData(this, `Hand (49)\nstarted_at: 00:02:30 ended_at: 00:05:40\nSB 250 BB 500 Ante 500\nStack Setup:\nAlice Dealer 20000\nBob SB 19000\nCharlie BB 15500\nDavid 18000`)">
                <span>üìã</span> Copy Player Data
            </button>
            <div class="player-data-box">
<pre>Hand (49)
started_at: 00:02:30 ended_at: 00:05:40
SB 250 BB 500 Ante 500
Stack Setup:
Alice Dealer 20000
Bob SB 19000
Charlie BB 15500
David 18000</pre>
            </div>

            <div class="section-title">Actions</div>
            <div class="actions-section">
                <div class="street-block">
                    <div class="street-name">Preflop Base</div>
                    <div class="action-row"><span class="action-player">David (UTG):</span> <span class="action-type">Raise</span> <span class="action-amount">1,500</span></div>
                    <div class="action-row"><span class="action-player">Alice (Dealer):</span> <span class="action-type">Raise</span> <span class="action-amount">4,500</span></div>
                    <div class="action-row"><span class="action-player">Bob (SB):</span> <span class="action-type">Call</span> <span class="action-amount">4,500</span></div>
                    <div class="action-row"><span class="action-player">Charlie (BB):</span> <span class="action-type">Call</span> <span class="action-amount">4,500</span></div>
                    <div class="action-row"><span class="action-player">David (UTG):</span> <span class="action-type">Call</span> <span class="action-amount">4,500</span></div>
                </div>
            </div>


            <div class="section-title">Expected Results</div>
            <div class="results-section">
                <div class="pot-summary">Total Pot: 18,500</div>
                <div style="background: #d4edda; border: 1px solid #c3e6cb; padding: 10px; border-radius: 4px; margin-bottom: 12px;">
                    <strong style="color: #155724;">‚úÖ VALIDATION PASSED</strong> - All pot calculations and stack distributions are correct.
                </div>
                <div class="ante-info-box">
                    <strong>BB Ante: 500</strong>
                    <div style="margin-top: 5px;">
                        Charlie posts ante (500) first ‚Üí stack becomes 15,000<br>
                        Charlie posts blind (500) ‚Üí stack becomes 14,500
                    </div>
                </div>
                <div class="pot-item main">
                    <div class="pot-name">Main Pot</div>
                    <div class="pot-amount">18,500 (100.0%)</div>
                    <div class="eligible">Eligible: <span>Alice</span> <span>Bob</span> <span>Charlie</span> <span>David</span></div>
                    <div style="font-size: 11px; color: #666; margin-top: 5px;">
                        Calculation: 18,000 (live) + 500 (BB ante dead) = 18,500
                    </div>
                </div>
                <table>
                    <thead>
                        <tr>
                            <th>Player (Position)</th>
                            <th>Starting Stack</th>
                            <th>Final Stack</th>
                            <th>Contributed</th>
                            <th>Winner</th>
                            <th>New Stack</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Alice (Dealer)</td>
                            <td>20,000</td>
                            <td>15,500</td>
                            <td>4,500</td>
                            <td><span class="winner-badge" onclick="toggleBreakdown(this)">
                                    üèÜ Main Pot <span class="expand-icon">‚ñº</span>
                                </span>
                                <div class="breakdown-details" style="display:none;">
                                                                        <div class="breakdown-line">Final Stack: 15,500</div>
                                    <div class="breakdown-line">+ Main Pot: 18,500</div>
                                    <div class="breakdown-line total">= New Stack: 34,000</div>
                                </div></td>
                            <td>34,000</td>
                        </tr>
                        <tr>
                            <td>Bob (SB)</td>
                            <td>19,000</td>
                            <td>14,500</td>
                            <td>4,500</td>
                            <td><span class="winner-badge loser">-</span></td>
                            <td>14,500</td>
                        </tr>
                        <tr>
                            <td>Charlie (BB)</td>
                            <td>15,500</td>
                            <td>10,500</td>
                            <td>5,000</td>
                            <td><span class="winner-badge loser">-</span></td>
                            <td>10,500</td>
                        </tr>
                        <tr>
                            <td>David (UTG)</td>
                            <td>18,000</td>
                            <td>13,500</td>
                            <td>4,500</td>
                            <td><span class="winner-badge loser">-</span></td>
                            <td>13,500</td>
                        </tr>
                    </tbody>
                </table>
            </div>


            <div class="next-hand-preview">
                <div class="next-hand-header">
                    <div class="next-hand-title">üìã Next Hand Preview</div>
                    <button class="copy-btn" onclick="copyPlayerData(this, `Hand (50)\nstarted_at: 00:05:40 ended_at: HH:MM:SS\nSB 250 BB 500 Ante 500\nStack Setup:\nBob Dealer 14500\nCharlie SB 10500\nDavid BB 13500\nAlice 34000`)">
                        <span>üìã</span> Copy Next Hand
                    </button>
                </div>
                <div class="next-hand-content">
Hand (50)
started_at: 00:05:40 ended_at: HH:MM:SS
SB 250 BB 500 Ante 500
Stack Setup:
Bob Dealer 14500
Charlie SB 10500
David BB 13500
Alice 34000
                </div>

                <div class="comparison-section">
                    <div class="comparison-header">üîç Compare with Actual Output</div>
                    <textarea id="actual-output-tc-49" class="comparison-textarea" placeholder="Paste the actual next hand output from your app here..." rows="8"></textarea>
                    <div style="margin-bottom: 10px;">
                        <button class="paste-btn" onclick="pasteFromClipboard(this, 'tc-49')">
                            üìã Paste from Clipboard
                        </button>
                        <button class="compare-btn" onclick="compareNextHand('tc-49', `Hand (50)\nstarted_at: 00:05:40 ended_at: HH:MM:SS\nSB 250 BB 500 Ante 500\nStack Setup:\nBob Dealer 14500\nCharlie SB 10500\nDavid BB 13500\nAlice 34000`)">
                            üîç Compare
                        </button>
                        <button class="copy-result-btn" onclick="copyComparisonResult('tc-49')" style="background: #4caf50;">
                            üìã Copy Result
                        </button>
                    </div>
                    <div id="comparison-result-tc-49" class="comparison-result"></div>
                </div>
            </div>

            <div class="notes">
                <div class="notes-title">üìù Validation Notes</div>
                <div class="notes-text">
                    ‚Ä¢ Players: 4<br>
                    ‚Ä¢ Complexity: Simple<br>
                    ‚Ä¢ Blinds: SB 250 / BB 500 / Ante 500<br>
                    ‚Ä¢ Button rotation: Previous SB ‚Üí New Dealer<br>
                    ‚Ä¢ All players present in next hand: ‚úÖ
                </div>
            </div>
            </div>
        </div>


        <!-- TEST CASE 50 -->
        <div class="test-case">
            <div class="test-header" onclick="toggleTestCase(this)">
                <div>
                    <div class="test-id">TC-50</div>
                    <div class="test-name">3P Complex - With Betting (SB:50,000 BB:100,000)</div>
                </div>
                <div class="badges">
                    <span class="badge complex">Complex</span>
                    <span class="collapse-icon collapsed">‚ñ∂</span>
                </div>
            </div>

            <div class="test-content collapsed">
            <div style="background: #ffebee; border: 2px solid #f44336; padding: 10px; margin: 10px 0; border-radius: 4px;">
<strong style="color: #c62828;">‚ùå VALIDATION ERRORS:</strong><ul>
<li style="color: #c62828;">Base/More validation failed: Preflop: Base has 3 actions, but 1 active players</li>
<li style="color: #c62828;">Base/More validation failed: Flop: Base has 3 actions, but 1 active players</li>
<li style="color: #c62828;">Base/More validation failed: Turn: Base has 2 actions, but 1 active players</li>
</ul></div>


            <div class="section-title">Stack Setup</div>
            <div class="blind-setup">
                <div class="blind-item"><label>Small Blind</label><div class="value">50,000</div></div>
                <div class="blind-item"><label>Big Blind</label><div class="value">100,000</div></div>
                <div class="blind-item"><label>Ante</label><div class="value">100,000</div></div>
                <div class="blind-item"><label>Ante Order</label><div class="value">BB First</div></div>
            </div>

            <div class="copy-instruction">üìã Copy and paste this into the app:</div>
            <button class="copy-btn" onclick="copyPlayerData(this, `Hand (50)\nstarted_at: 00:02:30 ended_at: 00:05:40\nSB 50000 BB 100000 Ante 100000\nStack Setup:\nAlice Dealer 4900000\nBob SB 5100000\nCharlie BB 2500000`)">
                <span>üìã</span> Copy Player Data
            </button>
            <div class="player-data-box">
<pre>Hand (50)
started_at: 00:02:30 ended_at: 00:05:40
SB 50000 BB 100000 Ante 100000
Stack Setup:
Alice Dealer 4900000
Bob SB 5100000
Charlie BB 2500000</pre>
            </div>

            <div class="section-title">Actions</div>
            <div class="actions-section">
                <div class="street-block">
                    <div class="street-name">Preflop Base</div>
                    <div class="action-row"><span class="action-player">Alice (Dealer):</span> <span class="action-type">Call</span> <span class="action-amount">100,000</span></div>
                    <div class="action-row"><span class="action-player">Bob (SB):</span> <span class="action-type">Call</span> <span class="action-amount">100,000</span></div>
                    <div class="action-row"><span class="action-player">Charlie (BB):</span> <span class="action-type">Check</span></div>
                </div>
                <div class="street-block">
                    <div class="street-name">Flop Base</div>
                    <div class="action-row"><span class="action-player">Bob (SB):</span> <span class="action-type">Bet</span> <span class="action-amount">800,000</span></div>
                    <div class="action-row"><span class="action-player">Charlie (BB):</span> <span class="action-type">Call</span> <span class="action-amount">800,000</span></div>
                    <div class="action-row"><span class="action-player">Alice (Dealer):</span> <span class="action-type">Fold</span></div>
                </div>
                <div class="street-block">
                    <div class="street-name">Turn Base</div>
                    <div class="action-row"><span class="action-player">Bob (SB):</span> <span class="action-type">Bet</span> <span class="action-amount">1,000,000</span></div>
                    <div class="action-row"><span class="action-player">Charlie (BB):</span> <span class="action-type">Raise</span> <span class="action-amount">1,500,000</span></div>
                </div>
            </div>


            <div class="section-title">Expected Results</div>
            <div class="results-section">
                <div class="pot-summary">Total Pot: 4,500,000</div>
                <div style="background: #d4edda; border: 1px solid #c3e6cb; padding: 10px; border-radius: 4px; margin-bottom: 12px;">
                    <strong style="color: #155724;">‚úÖ VALIDATION PASSED</strong> - All pot calculations and stack distributions are correct.
                </div>
                <div class="ante-info-box">
                    <strong>BB Ante: 100,000</strong>
                    <div style="margin-top: 5px;">
                        Charlie posts ante (100,000) first ‚Üí stack becomes 2,400,000<br>
                        Charlie posts blind (100,000) ‚Üí stack becomes 2,300,000
                    </div>
                </div>
                <div class="pot-item main">
                    <div class="pot-name">Main Pot</div>
                    <div class="pot-amount">400,000 (8.9%)</div>
                    <div class="eligible">Eligible: <span>Alice</span> <span>Bob</span> <span>Charlie</span></div>
                    <div style="font-size: 11px; color: #666; margin-top: 5px;">
                        Calculation: 4,400,000 (live) + 100,000 (BB ante dead) = 4,500,000
                    </div>
                </div>
                <div class="pot-item side1">
                    <div class="pot-name">Side Pot 1</div>
                    <div class="pot-amount">3,600,000 (80.0%)</div>
                    <div class="eligible">Eligible: <span>Bob</span> <span>Charlie</span></div>
                    <div style="font-size: 11px; color: #666; margin-top: 5px;">
                        Calculation: 1,800,000 √ó 2 players = 3,600,000
                    </div>
                </div>
                <div class="pot-item side2">
                    <div class="pot-name">Side Pot 2</div>
                    <div class="pot-amount">500,000 (11.1%)</div>
                    <div class="eligible">Eligible: <span>Charlie</span></div>
                    <div style="font-size: 11px; color: #666; margin-top: 5px;">
                        Calculation: 500,000 √ó 1 players = 500,000
                    </div>
                </div>
                <table>
                    <thead>
                        <tr>
                            <th>Player (Position)</th>
                            <th>Starting Stack</th>
                            <th>Final Stack</th>
                            <th>Contributed</th>
                            <th>Winner</th>
                            <th>New Stack</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Alice (Dealer)</td>
                            <td>4,900,000</td>
                            <td>4,800,000</td>
                            <td>100,000</td>
                            <td><span class="winner-badge loser">-</span></td>
                            <td>4,800,000</td>
                        </tr>
                        <tr>
                            <td>Bob (SB)</td>
                            <td>5,100,000</td>
                            <td>3,200,000</td>
                            <td>1,900,000</td>
                            <td><span class="winner-badge" onclick="toggleBreakdown(this)">
                                    üèÜ Main Pot + Side Pot 1 <span class="expand-icon">‚ñº</span>
                                </span>
                                <div class="breakdown-details" style="display:none;">
                                                                        <div class="breakdown-line">Final Stack: 3,200,000</div>
                                    <div class="breakdown-line">+ Main Pot: 400,000</div>
                                    <div class="breakdown-line">+ Side Pot 1: 3,600,000</div>
                                    <div class="breakdown-line total">= New Stack: 7,200,000</div>
                                </div></td>
                            <td>7,200,000</td>
                        </tr>
                        <tr>
                            <td>Charlie (BB)</td>
                            <td>2,500,000</td>
                            <td>0</td>
                            <td>2,500,000</td>
                            <td><span class="winner-badge loser">-</span></td>
                            <td>0</td>
                        </tr>
                    </tbody>
                </table>
            </div>


            <div class="next-hand-preview">
                <div class="next-hand-header">
                    <div class="next-hand-title">üìã Next Hand Preview</div>
                    <button class="copy-btn" onclick="copyPlayerData(this, `Hand (51)\nstarted_at: 00:05:40 ended_at: HH:MM:SS\nSB 50000 BB 100000 Ante 100000\nStack Setup:\nBob Dealer 7700000\nCharlie SB 0\nAlice BB 4800000`)">
                        <span>üìã</span> Copy Next Hand
                    </button>
                </div>
                <div class="next-hand-content">
Hand (51)
started_at: 00:05:40 ended_at: HH:MM:SS
SB 50000 BB 100000 Ante 100000
Stack Setup:
Bob Dealer 7700000
Charlie SB 0
Alice BB 4800000
                </div>

                <div class="comparison-section">
                    <div class="comparison-header">üîç Compare with Actual Output</div>
                    <textarea id="actual-output-tc-50" class="comparison-textarea" placeholder="Paste the actual next hand output from your app here..." rows="8"></textarea>
                    <div style="margin-bottom: 10px;">
                        <button class="paste-btn" onclick="pasteFromClipboard(this, 'tc-50')">
                            üìã Paste from Clipboard
                        </button>
                        <button class="compare-btn" onclick="compareNextHand('tc-50', `Hand (51)\nstarted_at: 00:05:40 ended_at: HH:MM:SS\nSB 50000 BB 100000 Ante 100000\nStack Setup:\nBob Dealer 7700000\nCharlie SB 0\nAlice BB 4800000`)">
                            üîç Compare
                        </button>
                        <button class="copy-result-btn" onclick="copyComparisonResult('tc-50')" style="background: #4caf50;">
                            üìã Copy Result
                        </button>
                    </div>
                    <div id="comparison-result-tc-50" class="comparison-result"></div>
                </div>
            </div>

            <div class="notes">
                <div class="notes-title">üìù Validation Notes</div>
                <div class="notes-text">
                    ‚Ä¢ Players: 3<br>
                    ‚Ä¢ Complexity: Complex<br>
                    ‚Ä¢ Blinds: SB 50,000 / BB 100,000 / Ante 100,000<br>
                    ‚Ä¢ Button rotation: Previous SB ‚Üí New Dealer<br>
                    ‚Ä¢ All players present in next hand: ‚úÖ
                </div>
            </div>
            </div>
        </div>

    </div>
    <script>
        function copyPlayerData(button, text) {
            navigator.clipboard.writeText(text).then(() => {
                const originalText = button.innerHTML;
                button.innerHTML = '<span>‚úì</span> Copied!';
                button.classList.add('copied');

                setTimeout(() => {
                    button.innerHTML = originalText;
                    button.classList.remove('copied');
                }, 2000);
            }).catch(err => {
                console.error('Failed to copy:', err);
                alert('Failed to copy to clipboard');
            });
        }

        function pasteFromClipboard(button, testCaseId) {
            navigator.clipboard.readText().then(text => {
                const textarea = document.getElementById(`actual-output-${testCaseId}`);
                textarea.value = text;

                const originalText = button.innerHTML;
                button.innerHTML = '<span>‚úì</span> Pasted!';
                button.classList.add('pasted');

                setTimeout(() => {
                    button.innerHTML = originalText;
                    button.classList.remove('pasted');
                }, 2000);
            }).catch(err => {
                console.error('Failed to paste:', err);
                alert('Failed to paste from clipboard. Please make sure you have clipboard permissions enabled.');
            });
        }

        function copyComparisonResult(testCaseId) {
            const resultDiv = document.getElementById(`comparison-result-${testCaseId}`);

            // Get text and replace newlines with " | " to paste in single Excel cell
            let text = resultDiv.innerText;

            // Replace newlines with " | " separator for single-cell paste
            text = text.replace(/\n/g, ' | ');

            // Remove multiple spaces
            text = text.replace(/\s+/g, ' ');

            navigator.clipboard.writeText(text).then(() => {
                alert('Comparison result copied to clipboard! Paste into a single Excel/Sheets cell.');
            }).catch(err => {
                console.error('Failed to copy result:', err);
                alert('Failed to copy comparison result');
            });
        }

        function toggleTestCase(header) {
            const content = header.nextElementSibling;
            const icon = header.querySelector('.collapse-icon');

            if (content.classList.contains('expanded')) {
                content.classList.remove('expanded');
                content.classList.add('collapsed');
                icon.classList.remove('expanded');
                icon.classList.add('collapsed');
            } else {
                content.classList.remove('collapsed');
                content.classList.add('expanded');
                icon.classList.remove('collapsed');
                icon.classList.add('expanded');
            }
        }

        function toggleBreakdown(badge) {
            const breakdown = badge.nextElementSibling;
            const icon = badge.querySelector('.expand-icon');

            if (breakdown.style.display === 'none' || !breakdown.style.display) {
                breakdown.style.display = 'block';
                icon.classList.add('expanded');
            } else {
                breakdown.style.display = 'none';
                icon.classList.remove('expanded');
            }
        }

        function compareNextHand(testCaseId, expectedText) {
            const textarea = document.getElementById(`actual-output-${testCaseId}`);
            const resultDiv = document.getElementById(`comparison-result-${testCaseId}`);

            let actualText = textarea.value.trim();

            if (!actualText) {
                resultDiv.innerHTML = '<div class="result-title">‚ö†Ô∏è Please paste the actual output first</div>';
                resultDiv.className = 'comparison-result';
                return;
            }

            actualText = actualText.replace(/^["']|["']$/g, '');

            const expected = parseNextHandData(expectedText);
            const actual = parseNextHandData(actualText);

            const results = [];
            let allPassed = true;

            if (expected.handNumber === actual.handNumber) {
                results.push({ field: 'Hand Number', pass: true, expected: expected.handNumber, actual: actual.handNumber });
            } else {
                results.push({ field: 'Hand Number', pass: false, expected: expected.handNumber, actual: actual.handNumber });
                allPassed = false;
            }

            if (expected.startedAt === actual.startedAt) {
                results.push({ field: 'Started At', pass: true, expected: expected.startedAt, actual: actual.startedAt });
            } else {
                results.push({ field: 'Started At', pass: false, expected: expected.startedAt, actual: actual.startedAt });
                allPassed = false;
            }

            for (const player of expected.players) {
                const actualPlayer = actual.players.find(p => p.name === player.name && p.position === player.position);
                if (actualPlayer) {
                    if (player.stack === actualPlayer.stack) {
                        results.push({ field: `${player.name} ${player.position}`, pass: true, expected: player.stack, actual: actualPlayer.stack });
                    } else {
                        results.push({ field: `${player.name} ${player.position}`, pass: false, expected: player.stack, actual: actualPlayer.stack });
                        allPassed = false;
                    }
                } else {
                    results.push({ field: `${player.name} ${player.position}`, pass: false, expected: player.stack, actual: 'NOT FOUND' });
                    allPassed = false;
                }
            }

            let html = `<div class="result-title">${allPassed ? '‚úÖ PASSED' : '‚ùå FAILED'}</div>`;
            for (const result of results) {
                const className = result.pass ? 'check-item pass' : 'check-item fail';
                html += `<div class="${className}">${result.field}: ${result.expected}`;
                if (!result.pass) {
                    html += `<div class="diff">Expected: ${result.expected}, Got: ${result.actual}</div>`;
                }
                html += '</div>';
            }

            resultDiv.innerHTML = html;
            resultDiv.className = `comparison-result ${allPassed ? 'passed' : 'failed'}`;
        }

        function parseNextHandData(text) {
            const lines = text.split('\n').map(l => l.trim()).filter(l => l);

            const data = {
                handNumber: '',
                startedAt: '',
                players: []
            };

            const handMatch = lines[0].match(/Hand \((\d+)\)/);
            if (handMatch) {
                data.handNumber = handMatch[1];
            }

            const timeMatch = lines[1].match(/started_at:\s*(\S+)/);
            if (timeMatch) {
                data.startedAt = timeMatch[1];
            }

            let inStackSetup = false;
            for (const line of lines) {
                if (line === 'Stack Setup:') {
                    inStackSetup = true;
                    continue;
                }
                if (inStackSetup && line) {
                    const parts = line.split(/\s+/);
                    if (parts.length >= 3) {
                        data.players.push({
                            name: parts[0],
                            position: parts[1],
                            stack: parts[2].replace(/,/g, '')
                        });
                    }
                }
            }

            return data;
        }
    </script>
</body>
</html>